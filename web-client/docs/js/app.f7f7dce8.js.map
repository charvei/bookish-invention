{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/game-dist/world/objects/character/Character.js","webpack:///./src/components/game-dist/view/renderer.js","webpack:///./src/components/game-dist/world/managers/CharacterManager.js","webpack:///./src/components/AppHeader.vue?3c52","webpack:///./src/components/game-dist/world/objects/base/Entity.js","webpack:///./src/components/game-dist/world/objects/projectiles/Projectile.js","webpack:///./src/components/game-dist/controller/input/InputHandler.js","webpack:///./src/components/game-dist/main.js","webpack:///./src/components/Game.vue?3ce5","webpack:///./src/components/game-dist/world/foreground/ForegroundManager.js","webpack:///./src/components/game-dist/controller/ControllerManager.js","webpack:///./src/App.vue?cd1e","webpack:///./src/components/AppHeader.vue?390e","webpack:///src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?9872","webpack:///./src/components/AppHeader.vue?42d3","webpack:///./src/components/Game.vue?c1e6","webpack:///src/components/Game.vue","webpack:///./src/components/Game.vue?92d9","webpack:///./src/components/Game.vue?afaa","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/game-dist/world/components/physics/Movement.js","webpack:///./src/components/game-dist/world/managers/PlatformManager.js","webpack:///./src/components/game-dist/world/WorldPhysics.js","webpack:///./src/components/game-dist/world/components/GunComponent.js","webpack:///./src/components/game-dist/controller/Loop.js","webpack:///./src/components/game-dist/view/RenderingManager.js","webpack:///./src/components/game-dist/world/objects/Platform.js","webpack:///./src/components/game-dist/Types.js","webpack:///./src/components/game-dist/world/foreground/SnowForeground.js","webpack:///./src/components/game-dist/world/components/physics/NewPhysicsComponent.js","webpack:///./src/components/game-dist/world/objects/character/Reticule.js","webpack:///./src/components/game-dist/controller/input/Commands.js","webpack:///./src/components/game-dist/world/components/physics/Collisions.js","webpack:///./src/components/game-dist/world/components/InputComponent.js","webpack:///./src/assets/logo.png","webpack:///./src/components/game-dist/world/managers/ProjectileManager.js","webpack:///./src/components/game-dist/world/components/physics/Forces.js","webpack:///./src/components/game-dist/world/managers/BaseEntityManager.js","webpack:///./src/components/game-dist/world/WorldManager.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","__extends","this","extendStatics","b","setPrototypeOf","__proto__","Array","__","constructor","Entity_1","require","Reticule_js_1","NewPhysicsComponent_1","InputComponent_js_1","GunComponent_js_1","Character","_super","code","height","width","position","colour","_this","physics","default","input","gun","update","worldManager","setReticule","reticule","x","Math","cos","focusAngle","y","sin","Renderer","worldContext","foregroundContext","canvasProps","drawWorld","characterRenderables","objectRenderables","foregroundRenderables","projectileRenderables","clearRect","fillStyle","fillRect","drawForeground","drawRenderables","testDraw","drawCharacters","characterList","forEach","character","getPosition","getWidth","getHeight","renderables","renderable","xPos","yPos","Character_1","BaseEntityManager_1","CharacterManager","getCharacterList","getEntityList","genericCharacterFactory","getCharacterRenderables","getRenderable","tick","delta","updateCharacters","addEntity","Entity","params","getBoxCoords","topAdjustment","bottomAdjustment","leftAdjustment","rightAdjustment","top","bottom","left","right","getBoxSides","getCorners","sides","topLeft","topRight","bottomLeft","bottomRight","getName","getCode","setPosition","_a","Projectile","velocityX","velocityY","Commands_1","InputHandler","characterManager","keys","previousKeysState","mouseRelativeToPlayerPosition","mouseCanvasPos","savePreviousKeyState","setupKeyDownListeners","keysUsed","heldDown","firstPress","onkeyup","e","onkeydown","setMousePositionListener","canvas","addEventListener","event","boundingRect","getBoundingClientRect","clientX","clientY","handleInput","getKeyPressState","jump","jetPack","moveLeft","moveDown","moveRight","shoot","setPlayerCharacterFocusAngle","characterMidPoint","playerCharacter","angle","atan2","setFocusAngle","characterManagerRef","find","makeMoveUnitCommand","makeJumpCommand","makeJetPackCommand","makeShootCommand","main","renderingManager","controllerManager","WorldManager_1","RenderingManager_js_1","ControllerManager_js_1","loadStuff","doStuff","loadForegroundCanvas","loadWorldCanvas","loadWorld","loadRendering","loadController","getLoop","start","tempCanvas","document","getElementById","element","props","getContext","context","console","log","Error","SnowForeground_1","ForegroundManager","getForegroundContext","getActiveForeground","activeForeground","setForeground","updateForeground","Loop_js_1","InputHandler_js_1","ControllerManager","loop","inputHandler","updateWorld","draw","getRenderer","getCharacterManager","getPlatformManager","getEntityRenderables","getForegroundManager","getRenderables","getProjectileManager","startLooping","requestAnimationFrame","foregroundManager","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","_m","staticClass","component","_v","components","AppHeader","Game","Vue","config","productionTip","render","h","App","$mount","Movement","ownerPhysicsComponent","abs","moveX","moveY","increment","move","incrementX","incrementY","newPosition","componentOwner","Platform_1","PlatformManager","testPlatform2","WorldPhysics","platformManager","getTouchRelationship","thisEntity","otherEntity","touchResult","didCollide","vectors","thisBox","otherBox","getCollisionVectors","isCollision","getCollisions","characterTrajectory","collisions","entity","entityBox","subjectBox","collisionVectors","GunComponent","willFireOnUpdate","rateOfFire","ticker","tickGun","addProjectile","fireProjectile","Loop","lastFrameTimeMs","timestep","fps","framesThisSecond","lastFpsUpdate","fpsDecayWeight","fpsDisplay","timestamp","numberOfSequentialUpdates","panic","textContent","round","run","stop","renderer_js_1","RenderingManager","renderer","Platform","PositionState","SnowForeground","particleDensity","maxParticles","startingYPos","maxXSpeed","particles","map","particle","createNewParticles","random","xDirection","xSpeed","ySpeed","opacity","windVariability","Forces_1","Collisions_1","Movement_1","Types_1","NewPhysicsComponent","forces","movement","positionState","Flying","firstTick","applyForces","Reticule","Commands","direction","down","makeProjectile","Collisions","trajectoryBox","calculateTrajectoryBox","worldPhysics","collision","resolveCollisions","detectCollisions","resolveCollisionsOLD","Landed","InputComponent","MOVE_ACCELERATION","MAX_VELOCITY_X","limitVelocity","calculatedVelocity","sign","clearVelocityX","clearVelocityY","Projectile_1","ProjectileManager","generateProjectile","velocity","getProjectileList","location","updateProjectiles","projectile","Forces","applyFriction","applyWindResistance","applyGravity","BaseEntityManager","entityList","getEntity","entityId","removeEntity","entityIndex","getEntityIndex","indexOf","CharacterManager_1","PlatformManager_js_1","ForegroundManager_js_1","ProjectileManager_1","WorldPhysics_1","WorldManager","projectileManager"],"mappings":"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","file":"js/app.f7f7dce8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/rocket-shooter/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity_1 = require(\"../base/Entity\");\r\nvar Reticule_js_1 = require(\"./Reticule.js\");\r\n//import PhysicsComponent from '../../components/PhysicsComponent.js'\r\n//import NewPhysicsComponent from '../../components/physics/NewPhysicsComponent.js'\r\nvar NewPhysicsComponent_1 = require(\"../../components/physics/NewPhysicsComponent\");\r\nvar InputComponent_js_1 = require(\"../../components/InputComponent.js\");\r\nvar GunComponent_js_1 = require(\"../../components/GunComponent.js\");\r\n/**\r\n * Character or unit that exists in the game. This should probably go through some inheritance type things at some point\r\n */\r\nvar Character = /** @class */ (function (_super) {\r\n    __extends(Character, _super);\r\n    function Character(name, code, height, width, position, colour) {\r\n        var _this = _super.call(this, {\r\n            name: name,\r\n            code: code,\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        }) || this;\r\n        // components\r\n        // velocityX: number = 0\r\n        // velocityY: number = 0\r\n        // physics: PhysicsComponent = new PhysicsComponent(this)\r\n        _this.physics = new NewPhysicsComponent_1.default(_this);\r\n        _this.input = new InputComponent_js_1.default(_this);\r\n        _this.gun = new GunComponent_js_1.default(_this);\r\n        _this.update = function (worldManager) {\r\n            _this.physics.update(worldManager);\r\n            _this.setReticule();\r\n            _this.gun.update(worldManager);\r\n            //generate projectile\r\n            //this.gun.update(worldManager)\r\n        };\r\n        _this.setReticule = function () {\r\n            _this.reticule.position.x = _this.position.x + (_this.width / 2) - _this.reticule.width / 2 + 25 * Math.cos(_this.focusAngle);\r\n            _this.reticule.position.y = _this.position.y + (_this.height / 2) - _this.reticule.height / 2 + 25 * Math.sin(_this.focusAngle);\r\n        };\r\n        _this.focusAngle = 1;\r\n        _this.reticule = new Reticule_js_1.default(5, 5, { x: 50, y: 50 }, \"ffffff\"); //reticule probably actually is more fitting as a COMPONENT \r\n        return _this;\r\n    }\r\n    return Character;\r\n}(Entity_1.default));\r\nexports.default = Character;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(worldContext, foregroundContext, canvasProps) {\r\n        var _this = this;\r\n        // Maybe when this gets more complicated this can be made more intelligent?\r\n        this.drawWorld = function (characterRenderables, objectRenderables, foregroundRenderables, projectileRenderables) {\r\n            _this.worldContext.clearRect(0, 0, _this.canvasProps.width, _this.canvasProps.height);\r\n            //background\r\n            _this.worldContext.fillStyle = \"#000000\";\r\n            _this.worldContext.fillRect(0, 0, _this.canvasProps.width, _this.canvasProps.height);\r\n            //foreground\r\n            _this.drawForeground(foregroundRenderables);\r\n            //objects\r\n            _this.drawRenderables(objectRenderables);\r\n            //characters\r\n            _this.drawRenderables(characterRenderables);\r\n            //projectiles\r\n            _this.drawRenderables(projectileRenderables);\r\n        };\r\n        this.testDraw = function () {\r\n            _this.worldContext.fillStyle = \"#000000\";\r\n            _this.worldContext.fillRect(0, 0, _this.canvasProps.height, _this.canvasProps.width);\r\n        };\r\n        // So at some point may want to consider having multiple canvas or something right? buffer screens and stuff\r\n        this.drawCharacters = function (characterList) {\r\n            characterList.forEach(function (character) {\r\n                _this.worldContext.fillStyle = \"#0000ff\";\r\n                _this.worldContext.fillRect(character.getPosition().x, character.getPosition().y, character.getWidth(), character.getHeight());\r\n                _this.worldContext.fillRect(character.reticule.getPosition().x, character.reticule.getPosition().y, character.reticule.getWidth(), character.reticule.getHeight());\r\n            });\r\n        };\r\n        this.drawRenderables = function (renderables) {\r\n            renderables.forEach(function (renderable) {\r\n                _this.worldContext.fillStyle = renderable.colour;\r\n                _this.worldContext.fillRect(renderable.xPos, renderable.yPos, renderable.width, renderable.height);\r\n            });\r\n        };\r\n        this.drawForeground = function (renderables) {\r\n            renderables.forEach(function (renderable) {\r\n                _this.worldContext.fillStyle = \"rgba(255, 255, 255, 0.5)\";\r\n                _this.worldContext.fillRect(renderable.xPos, renderable.yPos, renderable.width, renderable.height);\r\n            });\r\n            // this.foregroundContext.clearRect(0, 0, this.canvasProps.width, this.canvasProps.height)\r\n            // this.foregroundContext.fillStyle = \"rgba(255, 255, 255, 0.5)\"\r\n            // this.foregroundContext.fillRect(0, 0, this.canvasProps.width, this.canvasProps.height)\r\n        };\r\n        this.worldContext = worldContext;\r\n        this.foregroundContext = foregroundContext;\r\n        this.canvasProps = canvasProps;\r\n    }\r\n    return Renderer;\r\n}());\r\nexports.default = Renderer;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Character_1 = require(\"../objects/character/Character\");\r\nvar BaseEntityManager_1 = require(\"../managers/BaseEntityManager\");\r\n/**\r\n * Store characters and manage access and manipulation to character resources\r\n */\r\nvar CharacterManager = /** @class */ (function (_super) {\r\n    __extends(CharacterManager, _super);\r\n    function CharacterManager() {\r\n        var _this = _super.call(this) || this;\r\n        _this.getCharacterList = function () {\r\n            return _this.getEntityList();\r\n        };\r\n        _this.genericCharacterFactory = function () {\r\n            return new Character_1.default(\"Adam\", \"Adam\", 20, 20, { x: 320, y: 150 }, \"#0000ff\");\r\n        };\r\n        _this.getCharacterRenderables = function () {\r\n            var characterRenderables = [];\r\n            _this.getCharacterList().forEach(function (character) {\r\n                // Improvement: construct all of character renderables from the character itself\r\n                characterRenderables.push(character.getRenderable());\r\n                characterRenderables.push(character.reticule.getRenderable());\r\n            });\r\n            return characterRenderables;\r\n        };\r\n        _this.tick = function (delta, worldManager) {\r\n            _this.updateCharacters(delta, worldManager);\r\n        };\r\n        _this.updateCharacters = function (delta, worldManager) {\r\n            _this.getCharacterList().forEach(function (character) {\r\n                character.update(worldManager);\r\n            });\r\n        };\r\n        _this.addEntity(_this.genericCharacterFactory());\r\n        return _this;\r\n    }\r\n    return CharacterManager;\r\n}(BaseEntityManager_1.default));\r\nexports.default = CharacterManager;\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Entity in the game. Base class that more specific entitys will inherit from.\r\n */\r\nvar Entity = /** @class */ (function () {\r\n    function Entity(params) {\r\n        var _this = this;\r\n        this.update = function (worldManager) {\r\n        };\r\n        this.getBoxCoords = function (topAdjustment, bottomAdjustment, leftAdjustment, rightAdjustment) {\r\n            if (topAdjustment === void 0) { topAdjustment = 0; }\r\n            if (bottomAdjustment === void 0) { bottomAdjustment = 0; }\r\n            if (leftAdjustment === void 0) { leftAdjustment = 0; }\r\n            if (rightAdjustment === void 0) { rightAdjustment = 0; }\r\n            return {\r\n                top: _this.getPosition().y + topAdjustment,\r\n                bottom: _this.getPosition().y + _this.getHeight() + bottomAdjustment,\r\n                left: _this.getPosition().x + leftAdjustment,\r\n                right: _this.getPosition().x + _this.getWidth() + rightAdjustment\r\n            };\r\n        };\r\n        this.getBoxSides = function () {\r\n            return {\r\n                top: _this.getPosition().y,\r\n                bottom: _this.getPosition().y + _this.getHeight(),\r\n                left: _this.getPosition().x,\r\n                right: _this.getPosition().x + _this.getWidth()\r\n            };\r\n        };\r\n        /** REFACTOR: SHOULD ENTITY HAVE A 'BOX' OR BODY COMPONENT WHICH HOLDS THESE? */\r\n        // getCorners = (): BoxCorners => {\r\n        //     let boxSides: BoxSides = this.getBoxSides()\r\n        //     return {\r\n        //         topLeft: {\r\n        //             x: this.getPosition().x,\r\n        //             y: this.getPosition().y\r\n        //         },\r\n        //         topRight: {\r\n        //             x: this.getPosition().x + this.getWidth(),\r\n        //             y: this.getPosition().y\r\n        //         },\r\n        //         bottomLeft: {\r\n        //             x: this.getPosition().x,\r\n        //             y: this.getPosition().y + this.getHeight()\r\n        //         },\r\n        //         bottomRight: {\r\n        //             x: this.getPosition().x + this.getWidth(),\r\n        //             y: this.getPosition().y + this.getHeight()\r\n        //         }\r\n        //     }\r\n        // }\r\n        this.getCorners = function (sides) {\r\n            if (sides == null) {\r\n                sides = _this.getBoxSides();\r\n            }\r\n            return {\r\n                topLeft: {\r\n                    x: sides.left,\r\n                    y: sides.top\r\n                },\r\n                topRight: {\r\n                    x: sides.right,\r\n                    y: sides.top\r\n                },\r\n                bottomLeft: {\r\n                    x: sides.left,\r\n                    y: sides.bottom\r\n                },\r\n                bottomRight: {\r\n                    x: sides.right,\r\n                    y: sides.bottom\r\n                }\r\n            };\r\n        };\r\n        this.getRenderable = function () {\r\n            return {\r\n                xPos: _this.position.x,\r\n                yPos: _this.position.y,\r\n                width: _this.width,\r\n                height: _this.height,\r\n                colour: _this.colour\r\n            };\r\n        };\r\n        this.getName = function () {\r\n            return _this.name;\r\n        };\r\n        this.getCode = function () {\r\n            return _this.code;\r\n        };\r\n        this.getHeight = function () {\r\n            return _this.height;\r\n        };\r\n        this.getWidth = function () {\r\n            return _this.width;\r\n        };\r\n        this.getPosition = function () {\r\n            return _this.position;\r\n        };\r\n        this.setPosition = function (_a) {\r\n            var position = _a.position;\r\n            _this.position = position;\r\n        };\r\n        this.name = params.name;\r\n        this.code = params.code;\r\n        this.height = params.height;\r\n        this.width = params.width;\r\n        this.position = params.position;\r\n        this.colour = params.colour;\r\n    }\r\n    return Entity;\r\n}());\r\nexports.default = Entity;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity_1 = require(\"../base/Entity\");\r\n//import NewPhysicsComponent from '../../components/physics/NewPhysicsComponent'\r\nvar NewPhysicsComponent_1 = require(\"../../components/physics/NewPhysicsComponent\");\r\nvar Projectile = /** @class */ (function (_super) {\r\n    __extends(Projectile, _super);\r\n    function Projectile(height, width, position, colour, velocityX, velocityY) {\r\n        var _this = _super.call(this, {\r\n            name: \"projectileA\",\r\n            code: \"projectileA\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        }) || this;\r\n        _this.update = function (worldManager) {\r\n            _this.physics.update(worldManager);\r\n        };\r\n        _this.physics = new NewPhysicsComponent_1.default(_this, velocityX, velocityY);\r\n        return _this;\r\n    }\r\n    return Projectile;\r\n}(Entity_1.default));\r\nexports.default = Projectile;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Commands_1 = require(\"./Commands\");\r\n/**\r\n * Input handler\r\n */\r\nvar InputHandler = /** @class */ (function () {\r\n    function InputHandler(characterManager, foregroundContext) {\r\n        var _this = this;\r\n        this.keys = {}; // record of keyboard keys and their corresponding state of pressed down or up\r\n        this.previousKeysState = {};\r\n        this.mouseRelativeToPlayerPosition = {}; // describes where user's mouse in relation to their character\r\n        this.mouseCanvasPos = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        this.savePreviousKeyState = function () {\r\n            _this.previousKeysState = _this.keys;\r\n        };\r\n        /**\r\n         * Set up keydown listeners to detect when keys are pressed down and lifted up\r\n         */\r\n        this.setupKeyDownListeners = function () {\r\n            var keysUsed = [\"w\", \"a\", \"s\", \"d\", \" \"];\r\n            keysUsed.forEach(function (key) {\r\n                _this.keys[key] = {\r\n                    heldDown: false,\r\n                    firstPress: false\r\n                };\r\n            });\r\n            window.onkeyup = function (e) {\r\n                _this.keys[e.key] = {\r\n                    heldDown: false,\r\n                    firstPress: false\r\n                };\r\n            };\r\n            window.onkeydown = function (e) {\r\n                var firstPress = !_this.keys[e.key].heldDown;\r\n                _this.keys[e.key] = {\r\n                    heldDown: true,\r\n                    firstPress: firstPress\r\n                };\r\n            };\r\n        };\r\n        this.setMousePositionListener = function () {\r\n            var event;\r\n            _this.foregroundContext.canvas.addEventListener('mousemove', function (event) {\r\n                var boundingRect = _this.foregroundContext.canvas.getBoundingClientRect();\r\n                _this.mouseCanvasPos = {\r\n                    x: event.clientX - boundingRect.left,\r\n                    y: event.clientY - boundingRect.top\r\n                };\r\n            });\r\n        };\r\n        /**\r\n         * Runs once a loop, detects user's raw input and handles it\r\n         */\r\n        this.handleInput = function (delta) {\r\n            if (_this.getKeyPressState('w').firstPress) {\r\n                _this.jump(delta);\r\n            }\r\n            if (_this.getKeyPressState('w').heldDown) {\r\n                _this.jetPack(delta);\r\n            }\r\n            if (_this.getKeyPressState('a').heldDown) {\r\n                _this.moveLeft(delta);\r\n            }\r\n            if (_this.getKeyPressState('s').heldDown) {\r\n                _this.moveDown(delta);\r\n            }\r\n            if (_this.getKeyPressState('d').heldDown) {\r\n                _this.moveRight(delta);\r\n            }\r\n            if (_this.getKeyPressState(' ').heldDown) {\r\n                _this.shoot(delta);\r\n            }\r\n            _this.setPlayerCharacterFocusAngle();\r\n        };\r\n        /**\r\n         * Set the character's focus angle based on relative position of character and player's mouse\r\n         */\r\n        this.setPlayerCharacterFocusAngle = function () {\r\n            // get character position... we want it to be the player's character hey\r\n            // draw line from character and mouse\r\n            var characterMidPoint = {\r\n                x: _this.playerCharacter.position.x + _this.playerCharacter.width / 2,\r\n                y: _this.playerCharacter.position.y + _this.playerCharacter.height / 2\r\n            };\r\n            var angle = Math.atan2(_this.mouseCanvasPos.y - characterMidPoint.y, _this.mouseCanvasPos.x - characterMidPoint.x);\r\n            _this.playerCharacter.input.setFocusAngle(angle);\r\n        };\r\n        /**\r\n         * Check if given key is currently pressed down\r\n         */\r\n        this.getKeyPressState = function (key) {\r\n            return _this.keys[key] ? _this.keys[key] : { firstPress: false, heldDown: false };\r\n        };\r\n        this.foregroundContext = foregroundContext;\r\n        this.characterManagerRef = characterManager;\r\n        //this.playerCharacter = this.characterManagerRef.getCharacterByName(\"Adam\")\r\n        this.playerCharacter = this.characterManagerRef.getEntityList().find((function (character) { return character.name == \"Adam\"; }));\r\n        this.setupKeyDownListeners();\r\n        this.setMousePositionListener();\r\n        this.moveRight = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Right\");\r\n        this.moveLeft = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Left\");\r\n        this.jump = Commands_1.default.makeJumpCommand(this.playerCharacter);\r\n        this.jetPack = Commands_1.default.makeJetPackCommand(this.playerCharacter);\r\n        this.moveDown = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Down\");\r\n        // shooting\r\n        this.shoot = Commands_1.default.makeShootCommand(this.playerCharacter);\r\n    }\r\n    return InputHandler;\r\n}());\r\nexports.default = InputHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.main = void 0;\r\nvar WorldManager_1 = require(\"./world/WorldManager\");\r\nvar RenderingManager_js_1 = require(\"./view/RenderingManager.js\");\r\nvar ControllerManager_js_1 = require(\"./controller/ControllerManager.js\");\r\nvar worldContext;\r\nvar foregroundContext;\r\nvar worldManager;\r\nvar renderingManager;\r\nvar controllerManager;\r\nvar canvas;\r\nvar width = 800;\r\nvar height = 480;\r\nvar main = function () {\r\n    loadStuff();\r\n    doStuff();\r\n};\r\nexports.main = main;\r\nvar loadStuff = function () {\r\n    loadForegroundCanvas();\r\n    loadWorldCanvas();\r\n    loadWorld();\r\n    loadRendering();\r\n    loadController();\r\n};\r\nvar doStuff = function () {\r\n    controllerManager.getLoop().start(0); // could potentially load the code inline here\r\n};\r\nvar loadWorldCanvas = function () {\r\n    var tempCanvas = document.getElementById('game-canvas');\r\n    canvas = {\r\n        element: tempCanvas,\r\n        props: {\r\n            height: tempCanvas.height,\r\n            width: tempCanvas.width\r\n        }\r\n    };\r\n    worldContext = getContext(canvas.element);\r\n};\r\nvar loadForegroundCanvas = function () {\r\n    var tempCanvas = document.getElementById('foreground-canvas');\r\n    canvas = {\r\n        element: tempCanvas,\r\n        props: {\r\n            height: tempCanvas.height,\r\n            width: tempCanvas.width\r\n        }\r\n    };\r\n    foregroundContext = getContext(canvas.element);\r\n};\r\nvar loadWorld = function () {\r\n    worldManager = new WorldManager_1.default(worldContext, foregroundContext, canvas.props);\r\n};\r\nvar loadRendering = function () {\r\n    renderingManager = new RenderingManager_js_1.default(worldContext, foregroundContext, canvas.props);\r\n};\r\nvar loadController = function () {\r\n    controllerManager = new ControllerManager_js_1.default(worldManager, renderingManager);\r\n};\r\nvar getContext = function (canvas) {\r\n    var context = canvas.getContext('2d');\r\n    if (context != null) {\r\n        console.log(\"Successfully got context\");\r\n        return context;\r\n    }\r\n    else {\r\n        throw Error(\"Couldn't retrieve context for canvas: \" + canvas);\r\n    }\r\n};\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=0c7ea766&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=0c7ea766&scoped=true&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar SnowForeground_1 = require(\"./SnowForeground\");\r\nvar ForegroundManager = /** @class */ (function () {\r\n    //private canvasProps: {height: number, width: number}\r\n    function ForegroundManager(foregroundContext, canvasProps) {\r\n        var _this = this;\r\n        this.getForegroundContext = function () {\r\n            return _this.foregroundContext;\r\n        };\r\n        this.getActiveForeground = function () {\r\n            return _this.activeForeground;\r\n        };\r\n        this.setForeground = function (foregroundContext, canvasProps) {\r\n            _this.activeForeground = new SnowForeground_1.default(foregroundContext, canvasProps);\r\n        };\r\n        this.updateForeground = function (delta) {\r\n            _this.activeForeground.update(delta);\r\n        };\r\n        this.foregroundContext = foregroundContext;\r\n        this.activeForeground = new SnowForeground_1.default(foregroundContext, canvasProps);\r\n        //this.setForeground(foregroundContext, canvasProps)\r\n    }\r\n    return ForegroundManager;\r\n}());\r\nexports.default = ForegroundManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Loop_js_1 = require(\"./Loop.js\");\r\nvar InputHandler_js_1 = require(\"./input/InputHandler.js\");\r\n/**\r\n * Store controller managers\r\n */\r\nvar ControllerManager = /** @class */ (function () {\r\n    function ControllerManager(worldManager, renderingManager) {\r\n        var _this = this;\r\n        this.getLoop = function () {\r\n            return _this.loop;\r\n        };\r\n        this.update = function (delta) {\r\n            _this.inputHandler.handleInput(delta);\r\n            _this.worldManager.updateWorld(delta);\r\n            _this.worldManager.updateForeground(delta);\r\n            _this.inputHandler.savePreviousKeyState();\r\n            _this.inputHandler.setPlayerCharacterFocusAngle();\r\n            //this.inputHandler.calculateAngleFromPlayerCharacter()\r\n        };\r\n        this.draw = function () {\r\n            _this.renderingManager.getRenderer().drawWorld(\r\n            //this.worldManager.getCharacterManager().getCharacterList(),\r\n            _this.worldManager.getCharacterManager().getCharacterRenderables(), _this.worldManager.getPlatformManager().getEntityRenderables(), _this.worldManager.getForegroundManager().getActiveForeground().getRenderables(), _this.worldManager.getProjectileManager().getEntityRenderables()\r\n            //Probably this is an indicater that says world manager should collate all this?\r\n            );\r\n            //this.renderingManager.getRenderer().drawRenderables\r\n        };\r\n        this.startLooping = function () {\r\n            window.requestAnimationFrame(_this.getLoop().start);\r\n        };\r\n        this.worldManager = worldManager;\r\n        this.renderingManager = renderingManager;\r\n        this.inputHandler = new InputHandler_js_1.default(this.worldManager.getCharacterManager(), this.worldManager.foregroundManager.getForegroundContext());\r\n        this.loop = new Loop_js_1.default(this.update, this.draw);\r\n    }\r\n    return ControllerManager;\r\n}());\r\nexports.default = ControllerManager;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('AppHeader'),_c('Game')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[_c('img',{staticClass:\"header-logo\",attrs:{\"alt\":\"Site logo\",\"src\":require(\"../assets/logo.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-header\">\r\n        <img class=\"header-logo\" alt=\"Site logo\" src=\"../assets/logo.png\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'AppHeader'\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .app-header {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .header-logo {\r\n        height: 3em;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=7f9b3340&scoped=true&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f9b3340\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-screen\"},[_c('div',[_vm._v(\"WASD to move\")]),_c('div',[_vm._v(\"space to shoot (proper physics to come)\")]),_c('div',{attrs:{\"id\":\"fps-display\"}}),_c('canvas',{attrs:{\"id\":\"game-canvas\",\"width\":\"1200\",\"height\":\"720\",\"tabindex\":\"1\"}}),_c('canvas',{attrs:{\"id\":\"foreground-canvas\",\"width\":\"1200\",\"height\":\"720\",\"z-index\":\"2\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"game-screen\">\r\n        <div>WASD to move</div>\r\n        <div>space to shoot (proper physics to come)</div>\r\n        <div id=\"fps-display\"></div>\r\n        <canvas id=\"game-canvas\" width=\"1200\" height=\"720\" tabindex='1'/>\r\n        <canvas id=\"foreground-canvas\" width=\"1200\" height=\"720\" z-index='2'/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { main } from './game-dist/main.js'\r\n\r\n    export default {\r\n        name: 'Game',\r\n        mounted() {\r\n            main()\r\n        }\r\n    }    \r\n</script>\r\n\r\n<style scoped>\r\n    canvas {\r\n        position: absolute;\r\n        margin-left: auto;\r\n        margin-right: auto;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=0c7ea766&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=0c7ea766&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c7ea766\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <AppHeader />\r\n    <Game />  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppHeader from './components/AppHeader.vue'\r\nimport Game from './components/Game.vue'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    AppHeader,\r\n    Game\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml {\r\n  background-color:#1e2a36;\r\n  color: azure;\r\n  height: 100vh;\r\n}\r\n\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=207193a6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Performs physics actions relating to moving character in space,\r\n */\r\nvar Movement = /** @class */ (function () {\r\n    function Movement(ownerPhysicsComponent) {\r\n        var _this = this;\r\n        this.update = function (velocityX, velocityY) {\r\n            if (Math.abs(velocityX) > 0) {\r\n                _this.moveX(velocityX);\r\n            }\r\n            if (Math.abs(velocityY) > 0) {\r\n                _this.moveY(velocityY);\r\n            }\r\n        };\r\n        this.moveX = function (increment) {\r\n            _this.move(increment, 0);\r\n        };\r\n        this.moveY = function (increment) {\r\n            _this.move(0, increment);\r\n        };\r\n        this.move = function (incrementX, incrementY) {\r\n            var newPosition = {\r\n                position: {\r\n                    x: _this.ownerPhysicsComponent.componentOwner.getPosition().x + incrementX,\r\n                    y: _this.ownerPhysicsComponent.componentOwner.getPosition().y + incrementY\r\n                }\r\n            };\r\n            _this.ownerPhysicsComponent.componentOwner.setPosition(newPosition);\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n    return Movement;\r\n}());\r\nexports.default = Movement;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar BaseEntityManager_1 = require(\"./BaseEntityManager\");\r\nvar Platform_1 = require(\"../objects/Platform\");\r\n/**\r\n * Store characters and manages access to and manipulation of character resources\r\n */\r\nvar PlatformManager = /** @class */ (function (_super) {\r\n    __extends(PlatformManager, _super);\r\n    function PlatformManager() {\r\n        var _this = _super.call(this) || this;\r\n        _this.tick = function (delta) {\r\n            //tick platforms\r\n        };\r\n        var top = new Platform_1.default(\"top\", \"top\", 20, 1200, { x: 0, y: 0 }, \"#ffffff\");\r\n        // let left = new Platform(\r\n        //     \"left\", \"left\", 720, 20, {x: 0, y: 0}, \"rgba(255, 255, 255, 1)\",\r\n        // )\r\n        var bottom = new Platform_1.default(\"bottom\", \"bottom\", 20, 1200, { x: 0, y: 700 }, \"rgba(255, 255, 255, 1)\");\r\n        // let right = new Platform(\r\n        //     \"right\", \"right\", 720, 20, {x: 1180, y: 0}, \"rgba(255, 255, 255, 1)\"            \r\n        // )\r\n        var testPlatform2 = new Platform_1.default(\"test1\", \"12\", 100, 100, { x: 450, y: 350 }, \"rgba(255, 255, 255, 1)\");\r\n        _this.addEntity(top);\r\n        _this.addEntity(bottom);\r\n        // this.addEntity(left)\r\n        // this.addEntity(right)\r\n        _this.addEntity(testPlatform2);\r\n        return _this;\r\n    }\r\n    return PlatformManager;\r\n}(BaseEntityManager_1.default));\r\nexports.default = PlatformManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar WorldPhysics = /** @class */ (function () {\r\n    function WorldPhysics(platformManager) {\r\n        var _this = this;\r\n        this.getTouchRelationship = function (thisEntity, otherEntity) {\r\n            var touchResult = {\r\n                didCollide: false,\r\n                vectors: {\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0\r\n                }\r\n            };\r\n            var thisBox = thisEntity.getBoxCoords(-1, 1, -1, 1);\r\n            var otherBox = otherEntity.getBoxCoords();\r\n            touchResult.vectors = _this.getCollisionVectors(thisBox, otherBox);\r\n            if (_this.isCollision(thisBox, otherBox)) {\r\n                touchResult.didCollide = true;\r\n            }\r\n            return touchResult;\r\n        };\r\n        this.getCollisions = function (characterTrajectory) {\r\n            var collisions = [];\r\n            _this.platformManager.getEntityList().forEach(function (entity) {\r\n                // entityBox i.e. the OTHER entity, the platform\r\n                var entityBox = entity.getBoxCoords();\r\n                if (_this.isCollision(characterTrajectory, entityBox)) {\r\n                    collisions.push(_this.getCollisionVectors(characterTrajectory, entityBox));\r\n                }\r\n            });\r\n            return collisions;\r\n        };\r\n        this.isCollision = function (subjectBox, otherBox) {\r\n            if (subjectBox.bottom <= otherBox.top) {\r\n                return false;\r\n            }\r\n            if (subjectBox.top >= otherBox.bottom) {\r\n                return false;\r\n            }\r\n            if (subjectBox.right <= otherBox.left) {\r\n                return false;\r\n            }\r\n            if (subjectBox.left >= otherBox.right) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        this.getCollisionVectors = function (subjectBox, otherBox) {\r\n            var collisionVectors = {\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0\r\n            };\r\n            if (subjectBox.top <= otherBox.bottom && subjectBox.top >= otherBox.top) {\r\n                collisionVectors.top = subjectBox.top - otherBox.bottom;\r\n            }\r\n            if (subjectBox.bottom >= otherBox.top && subjectBox.bottom <= otherBox.bottom) {\r\n                collisionVectors.bottom = subjectBox.bottom - otherBox.top;\r\n            }\r\n            if (subjectBox.left <= otherBox.right && subjectBox.left >= otherBox.left) {\r\n                collisionVectors.left = subjectBox.left - otherBox.right;\r\n            }\r\n            if (subjectBox.right >= otherBox.left && subjectBox.right <= otherBox.right) {\r\n                collisionVectors.right = subjectBox.right - otherBox.left;\r\n            }\r\n            return collisionVectors;\r\n        };\r\n        this.platformManager = platformManager;\r\n    }\r\n    return WorldPhysics;\r\n}());\r\nexports.default = WorldPhysics;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Gun component\r\n */\r\nvar GunComponent = /** @class */ (function () {\r\n    function GunComponent(componentOwner) {\r\n        var _this = this;\r\n        this.willFireOnUpdate = false;\r\n        this.rateOfFire = 10;\r\n        this.ticker = 0;\r\n        /**\r\n         * Runs once per tick\r\n         */\r\n        this.update = function (worldManager) {\r\n            _this.tickGun();\r\n            if (_this.willFireOnUpdate && (_this.ticker > _this.rateOfFire)) {\r\n                //worldManager.getProjectileManager().addProjectile()\r\n                worldManager.getProjectileManager().addProjectile(_this.componentOwner.reticule.getPosition(), _this.componentOwner.focusAngle, 20);\r\n                // Reset checks\r\n                _this.ticker = 0;\r\n                _this.willFireOnUpdate = false;\r\n            }\r\n            else {\r\n                _this.willFireOnUpdate = false; // so... willFireOnUpdate is set by fireProjectile when player presses the fire key. But for some reason one press will register as two, so willFireOnUpdate will go true, fire, then false, then true again as the fire key still thinks its pressed and wait for next fire\r\n            }\r\n        };\r\n        /** if projectiles are to be larger or smaller than the reticule then this code will need to be modified to center projectile at center of reticule */\r\n        // getEndOfGunPosition = (): Position => {\r\n        //     const gunPos: Position = this.componentOwner.reticule.getPosition()\r\n        //     return {\r\n        //         x: gunPos.x,\r\n        //         y: gunPos.y\r\n        //     }\r\n        // }\r\n        this.fireProjectile = function (delta) {\r\n            _this.willFireOnUpdate = true;\r\n        };\r\n        this.tickGun = function () {\r\n            _this.ticker++;\r\n        };\r\n        this.componentOwner = componentOwner;\r\n    }\r\n    return GunComponent;\r\n}());\r\nexports.default = GunComponent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Game loop class\r\n *\r\n * Written largely from: https://isaacsukin.com/news/2015/01/detailed-explanation-javascript-game-loops-and-timing\r\n */\r\nvar Loop = /** @class */ (function () {\r\n    function Loop(update, draw) {\r\n        var _this = this;\r\n        this.delta = 0;\r\n        this.lastFrameTimeMs = 0;\r\n        this.timestep = 1000 / 60; // timeSimulatedPerFrame\r\n        this.fps = 60;\r\n        this.framesThisSecond = 0;\r\n        this.lastFpsUpdate = 0;\r\n        this.fpsDecayWeight = 0.25;\r\n        this.fpsDisplay = document.getElementById(\"fps-display\");\r\n        this.start = function (timestamp) {\r\n            // Track Fps\r\n            if (timestamp > _this.lastFpsUpdate + 1000) {\r\n                _this.fps = _this.fpsDecayWeight * _this.framesThisSecond + (1 - _this.fpsDecayWeight) * _this.fps;\r\n                _this.lastFpsUpdate = timestamp;\r\n                _this.framesThisSecond = 0;\r\n            }\r\n            _this.framesThisSecond++;\r\n            // Track accumulated time that hasn't been spent yet\r\n            _this.delta += timestamp - _this.lastFrameTimeMs;\r\n            _this.lastFrameTimeMs = timestamp;\r\n            // Update word for every timestep that comprises delta time\r\n            var numberOfSequentialUpdates = 0;\r\n            while (_this.delta >= _this.timestep) {\r\n                _this.update(_this.timestep);\r\n                _this.delta -= _this.timestep;\r\n                if (++numberOfSequentialUpdates >= 240) { // detect spiral of death\r\n                    _this.panic(); // fix things\r\n                    break; // break out\r\n                }\r\n            }\r\n            _this.draw();\r\n            if (_this.fpsDisplay) {\r\n                _this.fpsDisplay.textContent = Math.round(_this.fps) + ' FPS';\r\n            }\r\n            window.requestAnimationFrame(_this.start);\r\n        };\r\n        this.run = function () {\r\n        };\r\n        this.stop = function () {\r\n        };\r\n        this.panic = function () {\r\n            console.log(\"<PANIC>\");\r\n            _this.stop();\r\n        };\r\n        this.update = update;\r\n        this.draw = draw;\r\n    }\r\n    return Loop;\r\n}());\r\nexports.default = Loop;\r\n/* when loop is done:\r\n    - work on user input / movement\r\n    - then rendering (using canvas's efficiently) and timing of drawing etc\r\n*/ \r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar renderer_js_1 = require(\"./renderer.js\");\r\nvar RenderingManager = /** @class */ (function () {\r\n    function RenderingManager(worldContext, foregroundContext, canvasProps) {\r\n        //load grid and colours\r\n        //this.colours = new Colours(context)\r\n        var _this = this;\r\n        //renderForeground(effect)\r\n        this.getRenderer = function () {\r\n            return _this.renderer;\r\n        };\r\n        // colours and gamegrid need to be passed to renderer... is this a sign that i need to refactor renderer?\r\n        this.renderer = new renderer_js_1.default(worldContext, foregroundContext, canvasProps);\r\n    }\r\n    return RenderingManager;\r\n}());\r\nexports.default = RenderingManager;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity_1 = require(\"./base/Entity\");\r\n/**\r\n * Object in the game. Base class that more specific objects will inherit from.\r\n */\r\nvar Platform = /** @class */ (function (_super) {\r\n    __extends(Platform, _super);\r\n    function Platform(name, code, height, width, position, colour) {\r\n        return _super.call(this, {\r\n            name: \"platformA\",\r\n            code: \"projectileB\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        }) || this;\r\n    }\r\n    return Platform;\r\n}(Entity_1.default));\r\nexports.default = Platform;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PositionState = void 0;\r\n/** Enums */\r\nvar PositionState;\r\n(function (PositionState) {\r\n    PositionState[PositionState[\"Flying\"] = 0] = \"Flying\";\r\n    PositionState[PositionState[\"Touching\"] = 1] = \"Touching\";\r\n    PositionState[PositionState[\"Colliding\"] = 2] = \"Colliding\";\r\n    PositionState[PositionState[\"Landed\"] = 3] = \"Landed\";\r\n})(PositionState = exports.PositionState || (exports.PositionState = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Implementation of a foreground. I have not made a base foreground yet, so this should be extracted at some point.\r\n */\r\nvar SnowForeground = /** @class */ (function () {\r\n    function SnowForeground(foregroundContext, canvasProps) {\r\n        var _this = this;\r\n        //opacity: number = 0.5\r\n        this.particleDensity = 0.20;\r\n        this.maxParticles = 500;\r\n        this.startingYPos = -5;\r\n        this.maxXSpeed = 1;\r\n        this.particles = [];\r\n        this.getRenderables = function () {\r\n            return _this.particles.map(function (particle) {\r\n                return {\r\n                    xPos: particle.xPos,\r\n                    yPos: particle.yPos,\r\n                    width: particle.width,\r\n                    height: particle.height,\r\n                    colour: particle.colour\r\n                };\r\n            });\r\n        };\r\n        this.createNewParticles = function () {\r\n            for (var i = 0; i < 2; i++) {\r\n                // Create 2 particles per row\r\n                // randomize these properties to a certain extent later\r\n                var particle = {\r\n                    colour: \"rgba(255, 255, 255, 0.5)\",\r\n                    width: Math.random() * 2,\r\n                    height: Math.random() * 2,\r\n                    xPos: Math.random() * _this.canvasProps.width,\r\n                    yPos: _this.startingYPos,\r\n                    xDirection: 0.1,\r\n                    xSpeed: 0,\r\n                    ySpeed: 0.2 + Math.random() * 1.5,\r\n                    opacity: 0.5\r\n                };\r\n                _this.particles.push(particle);\r\n            }\r\n        };\r\n        this.update = function (delta) {\r\n            if (_this.particles.length < _this.maxParticles) {\r\n                _this.createNewParticles();\r\n            }\r\n            _this.particles.forEach(function (particle) {\r\n                particle.yPos += particle.ySpeed;\r\n                // how frequent direction changes are\r\n                if (Math.random() < 0.95) {\r\n                    particle.xDirection = particle.xDirection * -1;\r\n                }\r\n                if (!((particle.xSpeed) > 1)) {\r\n                    var windVariability = Math.random() * 0.075; //higher == more random \r\n                    particle.xSpeed += particle.xDirection * windVariability;\r\n                }\r\n                particle.xPos += particle.xSpeed;\r\n                // return from whence you came\r\n                if (particle.yPos > _this.canvasProps.height) {\r\n                    particle.yPos = _this.startingYPos;\r\n                    particle.xPos = Math.random() * _this.canvasProps.width;\r\n                }\r\n            });\r\n        };\r\n        this.foregroundContext = foregroundContext;\r\n        this.canvasProps = canvasProps;\r\n    }\r\n    return SnowForeground;\r\n}());\r\nexports.default = SnowForeground;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Forces_1 = require(\"./Forces\");\r\nvar Collisions_1 = require(\"./Collisions\");\r\nvar Movement_1 = require(\"./Movement\");\r\nvar Types_1 = require(\"../../../Types\");\r\nvar NewPhysicsComponent = /** @class */ (function () {\r\n    function NewPhysicsComponent(componentOwner, velocityX, velocityY) {\r\n        var _this = this;\r\n        if (velocityX === void 0) { velocityX = 0; }\r\n        if (velocityY === void 0) { velocityY = 0; }\r\n        this.forces = new Forces_1.default(this);\r\n        this.collisions = new Collisions_1.default(this);\r\n        this.movement = new Movement_1.default(this);\r\n        this.positionState = Types_1.PositionState.Flying;\r\n        this.firstTick = true;\r\n        this.velocityX = 0;\r\n        this.velocityY = 0;\r\n        this.update = function (worldManager) {\r\n            // Perform first update to set up -- this could be done in constructor but would require constructor to have worldmanager as parameter\r\n            if (_this.firstTick) {\r\n                //\r\n            }\r\n            _this.forces.applyForces();\r\n            _this.collisions.update(worldManager);\r\n            //steps:\r\n            //check for collisions before updating, register a 'will hit' event\r\n            //'will hit' events are processed by a will hit event watcher that adjust the hit objects movements accordingly / sets their variables that will result in their movements being adjusted when 'this.movement.update' is called\r\n            //plus other stuff like processing damage and things?\r\n            _this.movement.update(_this.velocityX, _this.velocityY);\r\n        };\r\n        this.componentOwner = componentOwner;\r\n        this.velocityX = velocityX;\r\n        this.velocityY = velocityY;\r\n    }\r\n    return NewPhysicsComponent;\r\n}());\r\nexports.default = NewPhysicsComponent;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Entity_1 = require(\"../base/Entity\");\r\nvar Reticule = /** @class */ (function (_super) {\r\n    __extends(Reticule, _super);\r\n    function Reticule(height, width, position, colour) {\r\n        return _super.call(this, {\r\n            name: \"reticule\",\r\n            code: \"code\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        }) || this;\r\n    }\r\n    return Reticule;\r\n}(Entity_1.default));\r\nexports.default = Reticule;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Commands = /** @class */ (function () {\r\n    function Commands() {\r\n    }\r\n    Commands.makeMoveUnitCommand = function (character, direction) {\r\n        return function (delta) {\r\n            if (direction == \"Down\") {\r\n                character.input.down(delta);\r\n            }\r\n            if (direction == \"Left\") {\r\n                character.input.moveLeft(delta);\r\n            }\r\n            if (direction == \"Right\") {\r\n                character.input.moveRight(delta);\r\n            }\r\n        };\r\n    };\r\n    Commands.makeJumpCommand = function (character) {\r\n        return function (delta) {\r\n            character.input.jump(delta);\r\n        };\r\n    };\r\n    Commands.makeJetPackCommand = function (character) {\r\n        return function (delta) {\r\n            character.input.jetPack(delta);\r\n        };\r\n    };\r\n    Commands.makeShootCommand = function (character) {\r\n        return function (delta) {\r\n            character.input.makeProjectile(delta);\r\n        };\r\n    };\r\n    return Commands;\r\n}());\r\nexports.default = Commands;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Types_1 = require(\"../../../Types\");\r\n/**\r\n * Contains logic relating to detected collisions for PhysicsComponent\r\n */\r\nvar Collisions = /** @class */ (function () {\r\n    function Collisions(ownerPhysicsComponent) {\r\n        var _this = this;\r\n        this.update = function (worldManager) {\r\n            // for this entity loop through all entities that can be collided with\r\n            var trajectoryBox = _this.calculateTrajectoryBox();\r\n            var collisions = worldManager.worldPhysics.getCollisions(trajectoryBox);\r\n            if (collisions.length == 0) {\r\n                _this.ownerPhysicsComponent.positionState = Types_1.PositionState.Flying;\r\n            }\r\n            collisions.forEach(function (collision) {\r\n                _this.resolveCollisions(collision); // may create issues if these indices get out of sync\r\n            });\r\n        };\r\n        /**  Better strategy to handle different polygons:\r\n         *\r\n         * - use velocity to calculate the actual angle in which entity is moving\r\n         * - get the perpendicular bisector, use that as an axis\r\n         * - for this axis, get the points representing the:\r\n         *      - lowest / most negative number\r\n         *      - highest / most positive number\r\n         *\r\n         *\r\n         * ... but i think i'll have bigger problems when converting away from boxes; might want to 'connect the sides in the case of polygons'\r\n        */\r\n        this.calculateTrajectoryBox = function () {\r\n            var trajectoryBox = _this.ownerPhysicsComponent.componentOwner.getBoxCoords();\r\n            if (_this.ownerPhysicsComponent.velocityX > 0) {\r\n                trajectoryBox.right += _this.ownerPhysicsComponent.velocityX;\r\n            }\r\n            else {\r\n                trajectoryBox.left += _this.ownerPhysicsComponent.velocityX;\r\n            }\r\n            if (_this.ownerPhysicsComponent.velocityY > 0) {\r\n                trajectoryBox.bottom += _this.ownerPhysicsComponent.velocityY;\r\n            }\r\n            else {\r\n                trajectoryBox.top += _this.ownerPhysicsComponent.velocityY;\r\n            }\r\n            return trajectoryBox;\r\n        };\r\n        this.detectCollisions = function () {\r\n        };\r\n        this.resolveCollisionsOLD = function (collisions) {\r\n            if (collisions.bottom != 0) {\r\n                console.log(\"COLLIDE BOT\");\r\n                _this.ownerPhysicsComponent.movement.moveY(_this.ownerPhysicsComponent.velocityY - collisions.bottom);\r\n                _this.ownerPhysicsComponent.velocityY = 0;\r\n                _this.ownerPhysicsComponent.positionState = Types_1.PositionState.Landed;\r\n            }\r\n            else {\r\n                _this.ownerPhysicsComponent.positionState = Types_1.PositionState.Flying;\r\n            }\r\n            if (collisions.top != 0) {\r\n                console.log(\"COLLIDE TOP\");\r\n                // this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.vectors.top)\r\n                _this.ownerPhysicsComponent.velocityY = 0;\r\n            }\r\n            if (collisions.left != 0) {\r\n                console.log(\"COLLIDE LEFT\");\r\n                // this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.vectors.left)\r\n                // this.ownerPhysicsComponent.velocityX = 0\r\n            }\r\n            if (collisions.right != 0) {\r\n                console.log(\"COLLIDE RIGHT\");\r\n                //this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.vectors.right)\r\n                //this.ownerPhysicsComponent.velocityX = 0\r\n            }\r\n        };\r\n        this.resolveCollisions = function (collisions) {\r\n            // Landed on the top of something\r\n            if ((collisions.bottom != 0 && collisions.top == 0) && (collisions.left != 0 || collisions.right != 0)) { //or means that if it lands on the corner it behaves this way as well!!! we're expecting this to look janky for now\r\n                if (Math.abs(collisions.bottom) >= Math.abs(collisions.left)) {\r\n                    _this.ownerPhysicsComponent.movement.moveX(_this.ownerPhysicsComponent.velocityX - collisions.left);\r\n                    _this.ownerPhysicsComponent.velocityX = 0;\r\n                }\r\n                else {\r\n                    _this.ownerPhysicsComponent.movement.moveY(_this.ownerPhysicsComponent.velocityY - collisions.bottom);\r\n                    _this.ownerPhysicsComponent.velocityY = 0;\r\n                    _this.ownerPhysicsComponent.positionState = Types_1.PositionState.Landed;\r\n                }\r\n                // this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.bottom)\r\n                // this.ownerPhysicsComponent.velocityY = 0\r\n                // this.ownerPhysicsComponent.positionState = PositionState.Landed\r\n            }\r\n            else {\r\n                _this.ownerPhysicsComponent.positionState = Types_1.PositionState.Flying;\r\n            }\r\n            // Hit head on bottom of something\r\n            if ((collisions.top != 0 && collisions.bottom == 0) && (collisions.left != 0 || collisions.right != 0)) {\r\n                _this.ownerPhysicsComponent.movement.moveY(_this.ownerPhysicsComponent.velocityY - collisions.top);\r\n                _this.ownerPhysicsComponent.velocityY = 0;\r\n            }\r\n            // Ran into right side of something\r\n            if (collisions.left != 0 && (collisions.top != 0 && collisions.bottom != 0)) {\r\n                _this.ownerPhysicsComponent.movement.moveX(_this.ownerPhysicsComponent.velocityX - collisions.left);\r\n                _this.ownerPhysicsComponent.velocityX = 0;\r\n            }\r\n            // // Hit bottom-right corner of something\r\n            // if ((collisions.left != 0 && collisions.top) && (!(collisions.bottom || collisions.right))) {\r\n            //     console.log(\"hit bottom right corner!!!\")\r\n            //     if (collisions.top >= collisions.left) {\r\n            //         console.log(\"classified as head hit\")\r\n            //         this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.top)\r\n            //         this.ownerPhysicsComponent.velocityY = 0\r\n            //     } else {\r\n            //         console.log(\"classified as side hit\")\r\n            //         this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.left)\r\n            //         this.ownerPhysicsComponent.velocityX = 0\r\n            //     }\r\n            // }\r\n            // Ran into the left side of something\r\n            if (collisions.right != 0 && (collisions.top != 0 && collisions.bottom != 0)) {\r\n                _this.ownerPhysicsComponent.movement.moveX(_this.ownerPhysicsComponent.velocityX - collisions.right);\r\n                _this.ownerPhysicsComponent.velocityX = 0;\r\n            }\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n    return Collisions;\r\n}());\r\nexports.default = Collisions;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Types_1 = require(\"../../Types\");\r\n/**\r\n * Input component. Stuff that inputs (player / AI) can use.\r\n *\r\n * This is _hard coupled_ with an entity having a PHYSICS component\r\n *\r\n * Affects character's x & y velocity and probably more things later on.\r\n *\r\n */\r\nvar InputComponent = /** @class */ (function () {\r\n    function InputComponent(componentOwner) {\r\n        var _this = this;\r\n        this.MOVE_ACCELERATION = 0.035;\r\n        this.MAX_VELOCITY_X = 5;\r\n        this.moveLeft = function (delta) {\r\n            _this.limitVelocity(_this.componentOwner.physics.velocityX -= _this.MOVE_ACCELERATION * delta);\r\n        };\r\n        this.moveRight = function (delta) {\r\n            _this.limitVelocity(_this.componentOwner.physics.velocityX += _this.MOVE_ACCELERATION * delta);\r\n        };\r\n        this.limitVelocity = function (calculatedVelocity) {\r\n            if ((Math.abs(calculatedVelocity) > _this.MAX_VELOCITY_X)) {\r\n                _this.componentOwner.physics.velocityX = _this.MAX_VELOCITY_X * Math.sign(calculatedVelocity);\r\n            }\r\n        };\r\n        this.jump = function (delta) {\r\n            if (_this.componentOwner.physics.positionState == Types_1.PositionState.Landed) {\r\n                _this.componentOwner.physics.velocityY -= 0.12 * delta;\r\n            }\r\n        };\r\n        this.jetPack = function (delta) {\r\n            _this.componentOwner.physics.velocityY -= 0.018 * delta;\r\n        };\r\n        this.down = function (delta) {\r\n            _this.componentOwner.physics.velocityY += _this.MOVE_ACCELERATION * delta;\r\n        };\r\n        this.clearVelocityX = function () {\r\n            _this.componentOwner.physics.velocityX = 0;\r\n        };\r\n        this.clearVelocityY = function () {\r\n            _this.componentOwner.physics.velocityY = 0;\r\n        };\r\n        this.setFocusAngle = function (focusAngle) {\r\n            _this.componentOwner.focusAngle = focusAngle;\r\n        };\r\n        this.makeProjectile = function (delta) {\r\n            _this.componentOwner.gun.fireProjectile(delta);\r\n        };\r\n        this.componentOwner = componentOwner;\r\n    }\r\n    return InputComponent;\r\n}());\r\nexports.default = InputComponent;\r\n","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Projectile_1 = require(\"../objects/projectiles/Projectile\");\r\nvar BaseEntityManager_1 = require(\"./BaseEntityManager\");\r\n/**\r\n * Store Projectiles and manage access and manipulation to Projectile resources\r\n */\r\nvar ProjectileManager = /** @class */ (function (_super) {\r\n    __extends(ProjectileManager, _super);\r\n    function ProjectileManager() {\r\n        var _this = _super.call(this) || this;\r\n        _this.generateProjectile = function (position, angle, velocity) {\r\n            console.log(\"projectile angle: \" + Math.sin(angle));\r\n            //cos: -1 = left, 1 = right\r\n            //sin: -1 = top, 1 = bottom\r\n            var velocityX = velocity * Math.cos(angle);\r\n            var velocityY = velocity * Math.sin(angle);\r\n            return new Projectile_1.default(5, 5, { x: position.x, y: position.y }, \"#ff54f\", velocityX, velocityY);\r\n        };\r\n        _this.getProjectileList = function () {\r\n            return _this.getEntityList();\r\n        };\r\n        _this.addProjectile = function (location, angle, velocity) {\r\n            _this.addEntity(_this.generateProjectile(location, angle, velocity));\r\n        };\r\n        _this.tick = function (delta, worldManager) {\r\n            _this.updateProjectiles(delta, worldManager);\r\n        };\r\n        _this.updateProjectiles = function (delta, worldManager) {\r\n            _this.getProjectileList().forEach(function (projectile) {\r\n                projectile.update(worldManager);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    return ProjectileManager;\r\n}(BaseEntityManager_1.default));\r\nexports.default = ProjectileManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Types_1 = require(\"../../../Types\");\r\n/**\r\n * Contains logic for enacting forces for PhysicsComponent\r\n */\r\nvar Forces = /** @class */ (function () {\r\n    function Forces(ownerPhysicsComponent) {\r\n        var _this = this;\r\n        this.applyForces = function () {\r\n            if (_this.ownerPhysicsComponent.positionState == Types_1.PositionState.Landed) {\r\n                //Check if what it is resting on is still there\r\n                //apply friction\r\n                _this.applyFriction();\r\n                _this.applyWindResistance();\r\n            }\r\n            if (_this.ownerPhysicsComponent.positionState == Types_1.PositionState.Flying) {\r\n                _this.applyWindResistance();\r\n            }\r\n            _this.applyGravity();\r\n        };\r\n        this.applyGravity = function () {\r\n            _this.ownerPhysicsComponent.velocityY += 0.2;\r\n        };\r\n        this.applyFriction = function () {\r\n            _this.ownerPhysicsComponent.velocityX = _this.ownerPhysicsComponent.velocityX * 0.9;\r\n        };\r\n        this.applyWindResistance = function () {\r\n            _this.ownerPhysicsComponent.velocityX = _this.ownerPhysicsComponent.velocityX * 0.99;\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n    return Forces;\r\n}());\r\nexports.default = Forces;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Store characters and manages access to and manipulation of character resources\r\n */\r\nvar BaseEntityManager = /** @class */ (function () {\r\n    function BaseEntityManager() {\r\n        var _this = this;\r\n        this.getEntityList = function () {\r\n            return _this.entityList;\r\n        };\r\n        this.addEntity = function (entity) {\r\n            _this.entityList.push(entity);\r\n        };\r\n        this.getEntity = function (entityId) {\r\n            return _this.entityList.find(function (entity) {\r\n                return entity.name = entityId;\r\n            });\r\n        };\r\n        this.removeEntity = function (entityId) {\r\n            var entityIndex = _this.getEntityIndex(entityId);\r\n            if (entityIndex != null) {\r\n                _this.entityList.splice(entityIndex, 1);\r\n            }\r\n            else {\r\n                //log -> couldn't remove requested entity\r\n                console.log(\"Failed to remove entity of entityId: \" + entityId);\r\n            }\r\n        };\r\n        this.getEntityRenderables = function () {\r\n            return _this.entityList.map(function (entity) {\r\n                return entity.getRenderable();\r\n            });\r\n        };\r\n        /**\r\n         * Return index of requested entity. If none found, returns null.\r\n         *\r\n         * @param entityId id of requested entity\r\n         */\r\n        this.getEntityIndex = function (entityId) {\r\n            var entity = _this.getEntity(entityId);\r\n            if (entity) {\r\n                return _this.entityList.indexOf(entity);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        };\r\n        this.entityList = [];\r\n    }\r\n    return BaseEntityManager;\r\n}());\r\nexports.default = BaseEntityManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar CharacterManager_1 = require(\"./managers/CharacterManager\");\r\nvar PlatformManager_js_1 = require(\"./managers/PlatformManager.js\");\r\nvar ForegroundManager_js_1 = require(\"./foreground/ForegroundManager.js\");\r\nvar ProjectileManager_1 = require(\"./managers/ProjectileManager\");\r\nvar WorldPhysics_1 = require(\"./WorldPhysics\");\r\n/**\r\n * Store world elements / managers\r\n */\r\nvar WorldManager = /** @class */ (function () {\r\n    function WorldManager(context, foregroundContext, canvasProps) {\r\n        var _this = this;\r\n        this.getCharacterManager = function () {\r\n            return _this.characterManager;\r\n        };\r\n        this.getPlatformManager = function () {\r\n            return _this.platformManager;\r\n        };\r\n        this.getForegroundManager = function () {\r\n            return _this.foregroundManager;\r\n        };\r\n        this.getProjectileManager = function () {\r\n            return _this.projectileManager;\r\n        };\r\n        /* A potential idea may be to on-board tickable managers somewhere in worldmanager,\r\n        then since they all implement tickable or whatever just iterate through an array of them\r\n        their .tick function */\r\n        this.updateWorld = function (delta) {\r\n            _this.getCharacterManager().tick(delta, _this);\r\n            _this.getProjectileManager().tick(delta, _this);\r\n            // If we have multiple types of characters then we can create different managers for them and put them under characterManager\r\n            // e.g. PlayerCharacter, Enemies, \r\n            // Potentially (and very possibly the correct choice) create a higher level class called entities, then fit Characters under that even, then we can put in 'Boundaries', 'missiles', etc under entities in the world too.  \r\n            //this.getCharacterManager().\r\n        };\r\n        this.updateForeground = function (delta) {\r\n            _this.foregroundManager.updateForeground(delta);\r\n        };\r\n        this.platformManager = new PlatformManager_js_1.default();\r\n        this.characterManager = new CharacterManager_1.default();\r\n        this.projectileManager = new ProjectileManager_1.default();\r\n        this.worldPhysics = new WorldPhysics_1.default(this.platformManager);\r\n        this.foregroundManager = new ForegroundManager_js_1.default(foregroundContext, canvasProps);\r\n        this.context = context;\r\n    }\r\n    return WorldManager;\r\n}());\r\n/**\r\n * TODO:\r\n *  - Better jump. Want character to jump once and maybe a little higher if jump button held\r\n */\r\nexports.default = WorldManager;\r\n"],"sourceRoot":""}
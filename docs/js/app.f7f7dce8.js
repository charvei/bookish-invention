(function(t){function e(e){for(var o,s,a=e[0],c=e[1],u=e[2],f=0,h=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(h.length)h.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/rocket-shooter/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),i=n.n(o);i.a},"0d5e":function(t,e,n){"use strict";n("131a");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("2af9"),r=n("bd00"),s=n("b671"),a=n("c20f"),c=n("6f8c"),u=function(t){function e(e,n,o,i,u,l){var f=t.call(this,{name:e,code:n,height:o,width:i,position:u,colour:l})||this;return f.physics=new s.default(f),f.input=new a.default(f),f.gun=new c.default(f),f.update=function(t){f.physics.update(t),f.setReticule(),f.gun.update(t)},f.setReticule=function(){f.reticule.position.x=f.position.x+f.width/2-f.reticule.width/2+25*Math.cos(f.focusAngle),f.reticule.position.y=f.position.y+f.height/2-f.reticule.height/2+25*Math.sin(f.focusAngle)},f.focusAngle=1,f.reticule=new r.default(5,5,{x:50,y:50},"ffffff"),f}return o(e,t),e}(i.default);e.default=u},"13a8":function(t,e,n){"use strict";n("159b"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,n){var o=this;this.drawWorld=function(t,e,n,i){o.worldContext.clearRect(0,0,o.canvasProps.width,o.canvasProps.height),o.worldContext.fillStyle="#000000",o.worldContext.fillRect(0,0,o.canvasProps.width,o.canvasProps.height),o.drawForeground(n),o.drawRenderables(e),o.drawRenderables(t),o.drawRenderables(i)},this.testDraw=function(){o.worldContext.fillStyle="#000000",o.worldContext.fillRect(0,0,o.canvasProps.height,o.canvasProps.width)},this.drawCharacters=function(t){t.forEach((function(t){o.worldContext.fillStyle="#0000ff",o.worldContext.fillRect(t.getPosition().x,t.getPosition().y,t.getWidth(),t.getHeight()),o.worldContext.fillRect(t.reticule.getPosition().x,t.reticule.getPosition().y,t.reticule.getWidth(),t.reticule.getHeight())}))},this.drawRenderables=function(t){t.forEach((function(t){o.worldContext.fillStyle=t.colour,o.worldContext.fillRect(t.xPos,t.yPos,t.width,t.height)}))},this.drawForeground=function(t){t.forEach((function(t){o.worldContext.fillStyle="rgba(255, 255, 255, 0.5)",o.worldContext.fillRect(t.xPos,t.yPos,t.width,t.height)}))},this.worldContext=t,this.foregroundContext=e,this.canvasProps=n}return t}();e.default=o},"29e1":function(t,e,n){"use strict";n("131a"),n("159b");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("0d5e"),r=n("edc5"),s=function(t){function e(){var e=t.call(this)||this;return e.getCharacterList=function(){return e.getEntityList()},e.genericCharacterFactory=function(){return new i.default("Adam","Adam",20,20,{x:320,y:150},"#0000ff")},e.getCharacterRenderables=function(){var t=[];return e.getCharacterList().forEach((function(e){t.push(e.getRenderable()),t.push(e.reticule.getRenderable())})),t},e.tick=function(t,n){e.updateCharacters(t,n)},e.updateCharacters=function(t,n){e.getCharacterList().forEach((function(t){t.update(n)}))},e.addEntity(e.genericCharacterFactory()),e}return o(e,t),e}(r.default);e.default=s},"2a8d":function(t,e,n){"use strict";var o=n("cee5"),i=n.n(o);i.a},"2af9":function(t,e,n){"use strict";n("b0c0"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.update=function(t){},this.getBoxCoords=function(t,n,o,i){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=0),{top:e.getPosition().y+t,bottom:e.getPosition().y+e.getHeight()+n,left:e.getPosition().x+o,right:e.getPosition().x+e.getWidth()+i}},this.getBoxSides=function(){return{top:e.getPosition().y,bottom:e.getPosition().y+e.getHeight(),left:e.getPosition().x,right:e.getPosition().x+e.getWidth()}},this.getCorners=function(t){return null==t&&(t=e.getBoxSides()),{topLeft:{x:t.left,y:t.top},topRight:{x:t.right,y:t.top},bottomLeft:{x:t.left,y:t.bottom},bottomRight:{x:t.right,y:t.bottom}}},this.getRenderable=function(){return{xPos:e.position.x,yPos:e.position.y,width:e.width,height:e.height,colour:e.colour}},this.getName=function(){return e.name},this.getCode=function(){return e.code},this.getHeight=function(){return e.height},this.getWidth=function(){return e.width},this.getPosition=function(){return e.position},this.setPosition=function(t){var n=t.position;e.position=n},this.name=t.name,this.code=t.code,this.height=t.height,this.width=t.width,this.position=t.position,this.colour=t.colour}return t}();e.default=o},"2ecb":function(t,e,n){"use strict";n("131a");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("2af9"),r=n("b671"),s=function(t){function e(e,n,o,i,s,a){var c=t.call(this,{name:"projectileA",code:"projectileA",height:e,width:n,position:o,colour:i})||this;return c.update=function(t){c.physics.update(t)},c.physics=new r.default(c,s,a),c}return o(e,t),e}(i.default);e.default=s},3869:function(t,e,n){"use strict";n("7db0"),n("b0c0"),n("d3b7"),n("ddb0"),Object.defineProperty(e,"__esModule",{value:!0});var o=n("bfc8"),i=function(){function t(t,e){var n=this;this.keys={},this.previousKeysState={},this.mouseRelativeToPlayerPosition={},this.mouseCanvasPos={x:0,y:0},this.savePreviousKeyState=function(){n.previousKeysState=n.keys},this.setupKeyDownListeners=function(){var t=["w","a","s","d"," "];t.forEach((function(t){n.keys[t]={heldDown:!1,firstPress:!1}})),window.onkeyup=function(t){n.keys[t.key]={heldDown:!1,firstPress:!1}},window.onkeydown=function(t){var e=!n.keys[t.key].heldDown;n.keys[t.key]={heldDown:!0,firstPress:e}}},this.setMousePositionListener=function(){n.foregroundContext.canvas.addEventListener("mousemove",(function(t){var e=n.foregroundContext.canvas.getBoundingClientRect();n.mouseCanvasPos={x:t.clientX-e.left,y:t.clientY-e.top}}))},this.handleInput=function(t){n.getKeyPressState("w").firstPress&&n.jump(t),n.getKeyPressState("w").heldDown&&n.jetPack(t),n.getKeyPressState("a").heldDown&&n.moveLeft(t),n.getKeyPressState("s").heldDown&&n.moveDown(t),n.getKeyPressState("d").heldDown&&n.moveRight(t),n.getKeyPressState(" ").heldDown&&n.shoot(t),n.setPlayerCharacterFocusAngle()},this.setPlayerCharacterFocusAngle=function(){var t={x:n.playerCharacter.position.x+n.playerCharacter.width/2,y:n.playerCharacter.position.y+n.playerCharacter.height/2},e=Math.atan2(n.mouseCanvasPos.y-t.y,n.mouseCanvasPos.x-t.x);n.playerCharacter.input.setFocusAngle(e)},this.getKeyPressState=function(t){return n.keys[t]?n.keys[t]:{firstPress:!1,heldDown:!1}},this.foregroundContext=e,this.characterManagerRef=t,this.playerCharacter=this.characterManagerRef.getEntityList().find((function(t){return"Adam"==t.name})),this.setupKeyDownListeners(),this.setMousePositionListener(),this.moveRight=o.default.makeMoveUnitCommand(this.playerCharacter,"Right"),this.moveLeft=o.default.makeMoveUnitCommand(this.playerCharacter,"Left"),this.jump=o.default.makeJumpCommand(this.playerCharacter),this.jetPack=o.default.makeJetPackCommand(this.playerCharacter),this.moveDown=o.default.makeMoveUnitCommand(this.playerCharacter,"Down"),this.shoot=o.default.makeShootCommand(this.playerCharacter)}return t}();e.default=i},"40de":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.main=void 0;var o,i,r,s,a,c,u=n("fe51"),l=n("986e"),f=n("5046"),h=function(){d(),p()};e.main=h;var d=function(){g(),y(),v(),m(),w()},p=function(){a.getLoop().start(0)},y=function(){var t=document.getElementById("game-canvas");c={element:t,props:{height:t.height,width:t.width}},o=P(c.element)},g=function(){var t=document.getElementById("foreground-canvas");c={element:t,props:{height:t.height,width:t.width}},i=P(c.element)},v=function(){r=new u.default(o,i,c.props)},m=function(){s=new l.default(o,i,c.props)},w=function(){a=new f.default(r,s)},P=function(t){var e=t.getContext("2d");if(null!=e)return console.log("Successfully got context"),e;throw Error("Couldn't retrieve context for canvas: "+t)}},"41c5":function(t,e,n){},"49c1":function(t,e,n){"use strict";var o=n("41c5"),i=n.n(o);i.a},"4f72":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("b29a"),i=function(){function t(t,e){var n=this;this.getForegroundContext=function(){return n.foregroundContext},this.getActiveForeground=function(){return n.activeForeground},this.setForeground=function(t,e){n.activeForeground=new o.default(t,e)},this.updateForeground=function(t){n.activeForeground.update(t)},this.foregroundContext=t,this.activeForeground=new o.default(t,e)}return t}();e.default=i},5046:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("81a4"),i=n("3869"),r=function(){function t(t,e){var n=this;this.getLoop=function(){return n.loop},this.update=function(t){n.inputHandler.handleInput(t),n.worldManager.updateWorld(t),n.worldManager.updateForeground(t),n.inputHandler.savePreviousKeyState(),n.inputHandler.setPlayerCharacterFocusAngle()},this.draw=function(){n.renderingManager.getRenderer().drawWorld(n.worldManager.getCharacterManager().getCharacterRenderables(),n.worldManager.getPlatformManager().getEntityRenderables(),n.worldManager.getForegroundManager().getActiveForeground().getRenderables(),n.worldManager.getProjectileManager().getEntityRenderables())},this.startLooping=function(){window.requestAnimationFrame(n.getLoop().start)},this.worldManager=t,this.renderingManager=e,this.inputHandler=new i.default(this.worldManager.getCharacterManager(),this.worldManager.foregroundManager.getForegroundContext()),this.loop=new o.default(this.update,this.draw)}return t}();e.default=r},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("AppHeader"),n("Game")],1)},r=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-header"},[o("img",{staticClass:"header-logo",attrs:{alt:"Site logo",src:n("cf05")}})])}],c={name:"AppHeader"},u=c,l=(n("2a8d"),n("2877")),f=Object(l["a"])(u,s,a,!1,null,"7f9b3340",null),h=f.exports,d=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-screen"},[n("div",[t._v("WASD to move")]),n("div",[t._v("space to shoot (proper physics to come)")]),n("div",{attrs:{id:"fps-display"}}),n("canvas",{attrs:{id:"game-canvas",width:"1200",height:"720",tabindex:"1"}}),n("canvas",{attrs:{id:"foreground-canvas",width:"1200",height:"720","z-index":"2"}})])}],y=n("40de"),g={name:"Game",mounted:function(){Object(y["main"])()}},v=g,m=(n("49c1"),Object(l["a"])(v,d,p,!1,null,"0c7ea766",null)),w=m.exports,P={name:"app",components:{AppHeader:h,Game:w}},C=P,_=(n("034f"),Object(l["a"])(C,i,r,!1,null,null,null)),b=_.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(b)}}).$mount("#app")},"60c4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.update=function(t,n){Math.abs(t)>0&&e.moveX(t),Math.abs(n)>0&&e.moveY(n)},this.moveX=function(t){e.move(t,0)},this.moveY=function(t){e.move(0,t)},this.move=function(t,n){var o={position:{x:e.ownerPhysicsComponent.componentOwner.getPosition().x+t,y:e.ownerPhysicsComponent.componentOwner.getPosition().y+n}};e.ownerPhysicsComponent.componentOwner.setPosition(o)},this.ownerPhysicsComponent=t}return t}();e.default=o},6908:function(t,e,n){"use strict";n("131a");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("edc5"),r=n("99b8"),s=function(t){function e(){var e=t.call(this)||this;e.tick=function(t){};var n=new r.default("top","top",20,1200,{x:0,y:0},"#ffffff"),o=new r.default("bottom","bottom",20,1200,{x:0,y:700},"rgba(255, 255, 255, 1)"),i=new r.default("test1","12",100,100,{x:450,y:350},"rgba(255, 255, 255, 1)");return e.addEntity(n),e.addEntity(o),e.addEntity(i),e}return o(e,t),e}(i.default);e.default=s},"6a69":function(t,e,n){"use strict";n("159b"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.getTouchRelationship=function(t,n){var o={didCollide:!1,vectors:{top:0,bottom:0,left:0,right:0}},i=t.getBoxCoords(-1,1,-1,1),r=n.getBoxCoords();return o.vectors=e.getCollisionVectors(i,r),e.isCollision(i,r)&&(o.didCollide=!0),o},this.getCollisions=function(t){var n=[];return e.platformManager.getEntityList().forEach((function(o){var i=o.getBoxCoords();e.isCollision(t,i)&&n.push(e.getCollisionVectors(t,i))})),n},this.isCollision=function(t,e){return!(t.bottom<=e.top)&&(!(t.top>=e.bottom)&&(!(t.right<=e.left)&&!(t.left>=e.right)))},this.getCollisionVectors=function(t,e){var n={top:0,bottom:0,left:0,right:0};return t.top<=e.bottom&&t.top>=e.top&&(n.top=t.top-e.bottom),t.bottom>=e.top&&t.bottom<=e.bottom&&(n.bottom=t.bottom-e.top),t.left<=e.right&&t.left>=e.left&&(n.left=t.left-e.right),t.right>=e.left&&t.right<=e.right&&(n.right=t.right-e.left),n},this.platformManager=t}return t}();e.default=o},"6f8c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.willFireOnUpdate=!1,this.rateOfFire=10,this.ticker=0,this.update=function(t){e.tickGun(),e.willFireOnUpdate&&e.ticker>e.rateOfFire?(t.getProjectileManager().addProjectile(e.componentOwner.reticule.getPosition(),e.componentOwner.focusAngle,20),e.ticker=0,e.willFireOnUpdate=!1):e.willFireOnUpdate=!1},this.fireProjectile=function(t){e.willFireOnUpdate=!0},this.tickGun=function(){e.ticker++},this.componentOwner=t}return t}();e.default=o},"81a4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=this;this.delta=0,this.lastFrameTimeMs=0,this.timestep=1e3/60,this.fps=60,this.framesThisSecond=0,this.lastFpsUpdate=0,this.fpsDecayWeight=.25,this.fpsDisplay=document.getElementById("fps-display"),this.start=function(t){t>n.lastFpsUpdate+1e3&&(n.fps=n.fpsDecayWeight*n.framesThisSecond+(1-n.fpsDecayWeight)*n.fps,n.lastFpsUpdate=t,n.framesThisSecond=0),n.framesThisSecond++,n.delta+=t-n.lastFrameTimeMs,n.lastFrameTimeMs=t;var e=0;while(n.delta>=n.timestep)if(n.update(n.timestep),n.delta-=n.timestep,++e>=240){n.panic();break}n.draw(),n.fpsDisplay&&(n.fpsDisplay.textContent=Math.round(n.fps)+" FPS"),window.requestAnimationFrame(n.start)},this.run=function(){},this.stop=function(){},this.panic=function(){console.log("<PANIC>"),n.stop()},this.update=t,this.draw=e}return t}();e.default=o},"85ec":function(t,e,n){},"986e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("13a8"),i=function(){function t(t,e,n){var i=this;this.getRenderer=function(){return i.renderer},this.renderer=new o.default(t,e,n)}return t}();e.default=i},"99b8":function(t,e,n){"use strict";n("131a");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("2af9"),r=function(t){function e(e,n,o,i,r,s){return t.call(this,{name:"platformA",code:"projectileB",height:o,width:i,position:r,colour:s})||this}return o(e,t),e}(i.default);e.default=r},"9b8a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionState=void 0,function(t){t[t["Flying"]=0]="Flying",t[t["Touching"]=1]="Touching",t[t["Colliding"]=2]="Colliding",t[t["Landed"]=3]="Landed"}(e.PositionState||(e.PositionState={}))},b29a:function(t,e,n){"use strict";n("d81d"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=this;this.particleDensity=.2,this.maxParticles=500,this.startingYPos=-5,this.maxXSpeed=1,this.particles=[],this.getRenderables=function(){return n.particles.map((function(t){return{xPos:t.xPos,yPos:t.yPos,width:t.width,height:t.height,colour:t.colour}}))},this.createNewParticles=function(){for(var t=0;t<2;t++){var e={colour:"rgba(255, 255, 255, 0.5)",width:2*Math.random(),height:2*Math.random(),xPos:Math.random()*n.canvasProps.width,yPos:n.startingYPos,xDirection:.1,xSpeed:0,ySpeed:.2+1.5*Math.random(),opacity:.5};n.particles.push(e)}},this.update=function(t){n.particles.length<n.maxParticles&&n.createNewParticles(),n.particles.forEach((function(t){if(t.yPos+=t.ySpeed,Math.random()<.95&&(t.xDirection=-1*t.xDirection),!(t.xSpeed>1)){var e=.075*Math.random();t.xSpeed+=t.xDirection*e}t.xPos+=t.xSpeed,t.yPos>n.canvasProps.height&&(t.yPos=n.startingYPos,t.xPos=Math.random()*n.canvasProps.width)}))},this.foregroundContext=t,this.canvasProps=e}return t}();e.default=o},b671:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("e47c"),i=n("c098"),r=n("60c4"),s=n("9b8a"),a=function(){function t(t,e,n){var a=this;void 0===e&&(e=0),void 0===n&&(n=0),this.forces=new o.default(this),this.collisions=new i.default(this),this.movement=new r.default(this),this.positionState=s.PositionState.Flying,this.firstTick=!0,this.velocityX=0,this.velocityY=0,this.update=function(t){a.firstTick,a.forces.applyForces(),a.collisions.update(t),a.movement.update(a.velocityX,a.velocityY)},this.componentOwner=t,this.velocityX=e,this.velocityY=n}return t}();e.default=a},bd00:function(t,e,n){"use strict";n("131a");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("2af9"),r=function(t){function e(e,n,o,i){return t.call(this,{name:"reticule",code:"code",height:e,width:n,position:o,colour:i})||this}return o(e,t),e}(i.default);e.default=r},bfc8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.makeMoveUnitCommand=function(t,e){return function(n){"Down"==e&&t.input.down(n),"Left"==e&&t.input.moveLeft(n),"Right"==e&&t.input.moveRight(n)}},t.makeJumpCommand=function(t){return function(e){t.input.jump(e)}},t.makeJetPackCommand=function(t){return function(e){t.input.jetPack(e)}},t.makeShootCommand=function(t){return function(e){t.input.makeProjectile(e)}},t}();e.default=o},c098:function(t,e,n){"use strict";n("159b"),Object.defineProperty(e,"__esModule",{value:!0});var o=n("9b8a"),i=function(){function t(t){var e=this;this.update=function(t){var n=e.calculateTrajectoryBox(),i=t.worldPhysics.getCollisions(n);0==i.length&&(e.ownerPhysicsComponent.positionState=o.PositionState.Flying),i.forEach((function(t){e.resolveCollisions(t)}))},this.calculateTrajectoryBox=function(){var t=e.ownerPhysicsComponent.componentOwner.getBoxCoords();return e.ownerPhysicsComponent.velocityX>0?t.right+=e.ownerPhysicsComponent.velocityX:t.left+=e.ownerPhysicsComponent.velocityX,e.ownerPhysicsComponent.velocityY>0?t.bottom+=e.ownerPhysicsComponent.velocityY:t.top+=e.ownerPhysicsComponent.velocityY,t},this.detectCollisions=function(){},this.resolveCollisionsOLD=function(t){0!=t.bottom?(console.log("COLLIDE BOT"),e.ownerPhysicsComponent.movement.moveY(e.ownerPhysicsComponent.velocityY-t.bottom),e.ownerPhysicsComponent.velocityY=0,e.ownerPhysicsComponent.positionState=o.PositionState.Landed):e.ownerPhysicsComponent.positionState=o.PositionState.Flying,0!=t.top&&(console.log("COLLIDE TOP"),e.ownerPhysicsComponent.velocityY=0),0!=t.left&&console.log("COLLIDE LEFT"),0!=t.right&&console.log("COLLIDE RIGHT")},this.resolveCollisions=function(t){0==t.bottom||0!=t.top||0==t.left&&0==t.right?e.ownerPhysicsComponent.positionState=o.PositionState.Flying:Math.abs(t.bottom)>=Math.abs(t.left)?(e.ownerPhysicsComponent.movement.moveX(e.ownerPhysicsComponent.velocityX-t.left),e.ownerPhysicsComponent.velocityX=0):(e.ownerPhysicsComponent.movement.moveY(e.ownerPhysicsComponent.velocityY-t.bottom),e.ownerPhysicsComponent.velocityY=0,e.ownerPhysicsComponent.positionState=o.PositionState.Landed),0==t.top||0!=t.bottom||0==t.left&&0==t.right||(e.ownerPhysicsComponent.movement.moveY(e.ownerPhysicsComponent.velocityY-t.top),e.ownerPhysicsComponent.velocityY=0),0!=t.left&&0!=t.top&&0!=t.bottom&&(e.ownerPhysicsComponent.movement.moveX(e.ownerPhysicsComponent.velocityX-t.left),e.ownerPhysicsComponent.velocityX=0),0!=t.right&&0!=t.top&&0!=t.bottom&&(e.ownerPhysicsComponent.movement.moveX(e.ownerPhysicsComponent.velocityX-t.right),e.ownerPhysicsComponent.velocityX=0)},this.ownerPhysicsComponent=t}return t}();e.default=i},c20f:function(t,e,n){"use strict";n("2af1"),Object.defineProperty(e,"__esModule",{value:!0});var o=n("9b8a"),i=function(){function t(t){var e=this;this.MOVE_ACCELERATION=.035,this.MAX_VELOCITY_X=5,this.moveLeft=function(t){e.limitVelocity(e.componentOwner.physics.velocityX-=e.MOVE_ACCELERATION*t)},this.moveRight=function(t){e.limitVelocity(e.componentOwner.physics.velocityX+=e.MOVE_ACCELERATION*t)},this.limitVelocity=function(t){Math.abs(t)>e.MAX_VELOCITY_X&&(e.componentOwner.physics.velocityX=e.MAX_VELOCITY_X*Math.sign(t))},this.jump=function(t){e.componentOwner.physics.positionState==o.PositionState.Landed&&(e.componentOwner.physics.velocityY-=.12*t)},this.jetPack=function(t){e.componentOwner.physics.velocityY-=.018*t},this.down=function(t){e.componentOwner.physics.velocityY+=e.MOVE_ACCELERATION*t},this.clearVelocityX=function(){e.componentOwner.physics.velocityX=0},this.clearVelocityY=function(){e.componentOwner.physics.velocityY=0},this.setFocusAngle=function(t){e.componentOwner.focusAngle=t},this.makeProjectile=function(t){e.componentOwner.gun.fireProjectile(t)},this.componentOwner=t}return t}();e.default=i},cee5:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},d46c:function(t,e,n){"use strict";n("131a"),n("159b");var o=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n("2ecb"),r=n("edc5"),s=function(t){function e(){var e=t.call(this)||this;return e.generateProjectile=function(t,e,n){console.log("projectile angle: "+Math.sin(e));var o=n*Math.cos(e),r=n*Math.sin(e);return new i.default(5,5,{x:t.x,y:t.y},"#ff54f",o,r)},e.getProjectileList=function(){return e.getEntityList()},e.addProjectile=function(t,n,o){e.addEntity(e.generateProjectile(t,n,o))},e.tick=function(t,n){e.updateProjectiles(t,n)},e.updateProjectiles=function(t,n){e.getProjectileList().forEach((function(t){t.update(n)}))},e}return o(e,t),e}(r.default);e.default=s},e47c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("9b8a"),i=function(){function t(t){var e=this;this.applyForces=function(){e.ownerPhysicsComponent.positionState==o.PositionState.Landed&&(e.applyFriction(),e.applyWindResistance()),e.ownerPhysicsComponent.positionState==o.PositionState.Flying&&e.applyWindResistance(),e.applyGravity()},this.applyGravity=function(){e.ownerPhysicsComponent.velocityY+=.2},this.applyFriction=function(){e.ownerPhysicsComponent.velocityX=.9*e.ownerPhysicsComponent.velocityX},this.applyWindResistance=function(){e.ownerPhysicsComponent.velocityX=.99*e.ownerPhysicsComponent.velocityX},this.ownerPhysicsComponent=t}return t}();e.default=i},edc5:function(t,e,n){"use strict";n("7db0"),n("c975"),n("d81d"),n("a434"),n("b0c0"),Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){var t=this;this.getEntityList=function(){return t.entityList},this.addEntity=function(e){t.entityList.push(e)},this.getEntity=function(e){return t.entityList.find((function(t){return t.name=e}))},this.removeEntity=function(e){var n=t.getEntityIndex(e);null!=n?t.entityList.splice(n,1):console.log("Failed to remove entity of entityId: "+e)},this.getEntityRenderables=function(){return t.entityList.map((function(t){return t.getRenderable()}))},this.getEntityIndex=function(e){var n=t.getEntity(e);return n?t.entityList.indexOf(n):null},this.entityList=[]}return t}();e.default=o},fe51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("29e1"),i=n("6908"),r=n("4f72"),s=n("d46c"),a=n("6a69"),c=function(){function t(t,e,n){var c=this;this.getCharacterManager=function(){return c.characterManager},this.getPlatformManager=function(){return c.platformManager},this.getForegroundManager=function(){return c.foregroundManager},this.getProjectileManager=function(){return c.projectileManager},this.updateWorld=function(t){c.getCharacterManager().tick(t,c),c.getProjectileManager().tick(t,c)},this.updateForeground=function(t){c.foregroundManager.updateForeground(t)},this.platformManager=new i.default,this.characterManager=new o.default,this.projectileManager=new s.default,this.worldPhysics=new a.default(this.platformManager),this.foregroundManager=new r.default(e,n),this.context=t}return t}();e.default=c}});
//# sourceMappingURL=app.f7f7dce8.js.map
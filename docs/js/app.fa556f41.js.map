{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9b05","webpack:///../game/dst/world/managers/CharacterManager.js","webpack:///../game/dst/view/ui/UIManager.js","webpack:///../game/dst/Errors.js","webpack:///./src/components/AppHeader.vue?67e1","webpack:///../game/dst/world/components/physics/Movement.js","webpack:///../game/dst/world/WorldPhysics.js","webpack:///../game/dst/world/objects/character/Reticule.js","webpack:///../game/dst/world/background/SnowBackground.js","webpack:///../game/dst/world/managers/ProjectileManager.js","webpack:///../game/dst/world/objects/Platform.js","webpack:///./src/App.vue?053a","webpack:///./src/components/AppHeader.vue?ea13","webpack:///src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?1a69","webpack:///./src/components/AppHeader.vue","webpack:///./src/components/Game.vue?b682","webpack:///src/components/Game.vue","webpack:///./src/components/Game.vue?bf2b","webpack:///./src/components/Game.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///../game/dst/world/background/BackgroundManager.js","webpack:///../game/dst/world/managers/BaseEntityManager.js","webpack:///../game/dst/controller/ControllerManager.js","webpack:///../game/dst/world/WorldManager.js","webpack:///../game/dst/view/RenderingManager.js","webpack:///../game/dst/controller/StateManager.js","webpack:///../game/dst/main.js","webpack:///../game/dst/world/components/physics/Forces.js","webpack:///../game/dst/controller/input/InputHandler.js","webpack:///../game/dst/world/components/InputComponent.js","webpack:///../game/dst/view/Renderer.js","webpack:///../game/dst/world/managers/PlatformManager.js","webpack:///../game/dst/controller/Loop.js","webpack:///../game/dst/world/objects/character/Character.js","webpack:///../game/dst/world/objects/projectiles/Projectile.js","webpack:///../game/dst/world/objects/base/Entity.js","webpack:///../game/dst/controller/input/Commands.js","webpack:///../game/dst/world/components/GunComponent.js","webpack:///../game/dst/world/components/physics/Collisions.js","webpack:///./src/assets/logo.png","webpack:///../game/dst/view/ui/mainmenu/MainMenuScreen.js","webpack:///../game/dst/view/ui/CanvasScreen.js","webpack:///./src/components/Game.vue?5468","webpack:///../game/dst/Types.js","webpack:///../game/dst/world/components/physics/PhysicsComponent.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Character_1","require","BaseEntityManager_1","CharacterManager","getCharacterList","getEntityList","addCharacter","position","colour","addEntity","characterFactory","default","getCharacterRenderables","characterRenderables","forEach","character","getRenderable","reticule","tick","delta","worldManager","updateCharacters","update","MainMenuScreen_1","UIManager","uiCanvasContext","canvasProps","this","activeUI","getActiveUI","setActiveUI","uiScreen","deactivateUI","getUIRenderables","getRenderables","mainMenuScreen","throwNotImplementedError","message","Movement","ownerPhysicsComponent","velocityX","velocityY","Math","abs","moveX","moveY","increment","move","incrementX","incrementY","newPosition","x","componentOwner","getPosition","y","setPosition","WorldPhysics","platformManager","getTouchRelationship","thisEntity","otherEntity","touchResult","didCollide","vectors","top","bottom","left","right","thisBox","getBoxCoords","otherBox","getCollisionVectors","isCollision","getCollisions","characterTrajectory","collisions","entity","entityBox","subjectBox","collisionVectors","Entity_1","Reticule","height","width","code","SnowBackground","backgroundContext","particleDensity","maxParticles","startingYPos","maxXSpeed","particles","map","particle","xPos","yPos","createNewParticles","random","xDirection","xSpeed","ySpeed","opacity","windVariability","Projectile_1","ProjectileManager","generateProjectile","angle","velocity","console","log","sin","cos","getProjectileList","addProjectile","location","updateProjectiles","projectile","PhysicsComponent_1","Platform","physics","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","_m","staticClass","component","_v","components","AppHeader","Game","Vue","config","productionTip","render","h","App","$mount","SnowBackground_1","BackgroundManager","getBackgroundContext","getActiveBackground","activeBackground","getActiveBackgroundRenderables","setBackground","updateBackground","BaseEntityManager","entityList","getEntity","entityId","find","removeEntity","entityIndex","getEntityIndex","getEntityRenderables","indexOf","Types_js_1","StateManager_js_1","ControllerManager","renderingManager","uiManager","startMenu","stateManager","loop","start","changeState","GameState","Menu","setTimeout","Pause","CharacterManager_1","PlatformManager_js_1","BackgroundManager_js_1","ProjectileManager_1","WorldPhysics_1","WorldManager","context","getPlatformManager","getBackgroundManager","backgroundManager","getProjectileManager","projectileManager","updateWorld","characterManager","worldPhysics","Renderer_js_1","RenderingManager","worldContext","uiContext","getRenderer","renderer","Types_1","InputHandler_1","Loop_1","uuid_1","StateManager","gameState","userRef","v4","throwError","destinationState","Error","clearUIContext","startGame","setInnerFunctions","menuUpdate","menuDraw","pauseUpdate","gameDraw","setUpdate","gameUpdate","setDraw","inputHandler","bindCommandsToCharacter","handleInput","savePreviousKeyState","drawWorld","drawBackground","drawUI","pauseDraw","main","canvas","WorldManager_1","RenderingManager_js_1","ControllerManager_js_1","UIManager_1","loadStuff","doStuff","loadBackgroundCanvas","loadWorldCanvas","loadUICanvas","loadWorld","loadUIManager","loadRendering","loadController","tempCanvas","document","getElementById","element","props","getContext","Forces","applyForces","positionState","PositionState","Landed","applyFriction","applyWindResistance","Flying","applyGravity","Commands_1","InputHandler","mouseListenerContext","keys","previousKeysState","mouseRelativeToPlayerPosition","mouseCanvasPos","playerCharacter","jump","jetPack","moveDown","moveLeft","moveRight","shoot","characterRef","characterManagerRef","setupKeyDownListeners","setMousePositionListener","makeMoveUnitCommand","makeJumpCommand","makeJetPackCommand","makeShootCommand","keysUsed","heldDown","firstPress","onkeyup","e","onkeydown","addEventListener","event","boundingRect","getBoundingClientRect","clientX","clientY","getKeyPressState","setPlayerCharacterFocusAngle","characterMidPoint","atan2","input","setFocusAngle","InputComponent","MOVE_ACCELERATION","MAX_VELOCITY_X","limitVelocity","calculatedVelocity","sign","down","clearVelocityX","clearVelocityY","focusAngle","makeProjectile","gun","fireProjectile","Renderer","renderableListList","clearRect","renderableList","drawRenderables","renderables","fillStyle","fillRect","drawBackgroundRenderables","renderable","Platform_1","PlatformManager","testPlatform2","Loop","draw","looping","lastFrameTimeMs","timestep","fps","framesThisSecond","lastFpsUpdate","fpsDecayWeight","fpsDisplay","run","timestamp","numberOfSequentialUpdates","panic","textContent","round","requestAnimationFrame","stop","Reticule_js_1","InputComponent_js_1","GunComponent_js_1","Character","setReticule","Projectile","Entity","params","topAdjustment","bottomAdjustment","leftAdjustment","rightAdjustment","getHeight","getWidth","getBoxSides","getCorners","sides","topLeft","topRight","bottomLeft","bottomRight","getName","getCode","Commands","direction","GunComponent","willFireOnUpdate","rateOfFire","ticker","tickGun","Collisions","trajectoryBox","calculateTrajectoryBox","collision","resolveCollisions","detectCollisions","movement","CanvasScreen_1","MainMenuScreen","canvasContext","drawText","createCenterBox","font","fillText","Errors_1","CanvasScreen","Forces_1","Collisions_1","Movement_1","PhysicsComponent","forces","firstTick","velocityAngle","updateVelocityAngle"],"mappings":"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","file":"js/app.fa556f41.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/rocket-shooter/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Character_1 = require(\"../objects/character/Character\");\r\nconst BaseEntityManager_1 = require(\"../managers/BaseEntityManager\");\r\n/**\r\n * Store characters and manage access and manipulation to character resources\r\n */\r\nclass CharacterManager extends BaseEntityManager_1.default {\r\n    constructor() {\r\n        super();\r\n        this.getCharacterList = () => {\r\n            return this.getEntityList();\r\n        };\r\n        this.addCharacter = (name, position, colour) => {\r\n            this.addEntity(this.characterFactory(name, position, colour));\r\n        };\r\n        this.characterFactory = (name, position, colour) => {\r\n            return new Character_1.default(name, name, 20, 20, position, colour);\r\n        };\r\n        this.getCharacterRenderables = () => {\r\n            let characterRenderables = [];\r\n            this.getCharacterList().forEach(character => {\r\n                // Improvement: construct all of character renderables from the character itself\r\n                characterRenderables.push(character.getRenderable());\r\n                characterRenderables.push(character.reticule.getRenderable());\r\n            });\r\n            return characterRenderables;\r\n        };\r\n        this.tick = (delta, worldManager) => {\r\n            this.updateCharacters(delta, worldManager);\r\n        };\r\n        this.updateCharacters = (delta, worldManager) => {\r\n            this.getCharacterList().forEach((character) => {\r\n                character.update(worldManager);\r\n            });\r\n        };\r\n        // this.addEntity(this.characterFactory(\"Adam\", {x: 620, y: 150}, \"#0000ff\"))\r\n        // this.addEntity(this.characterFactory(\"Eve\", {x: 150, y: 150}, \"#ff0000\"))\r\n    }\r\n}\r\nexports.default = CharacterManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst MainMenuScreen_1 = require(\"./mainmenu/MainMenuScreen\");\r\n//import UIScreen from \"./UIScreen\"\r\nclass UIManager {\r\n    constructor(uiCanvasContext, canvasProps) {\r\n        this.activeUI = null;\r\n        this.getActiveUI = () => {\r\n            return this.activeUI;\r\n        };\r\n        this.setActiveUI = (uiScreen) => {\r\n            this.activeUI = uiScreen;\r\n        };\r\n        this.deactivateUI = () => {\r\n            this.activeUI = null;\r\n        };\r\n        this.getUIRenderables = () => {\r\n            if (this.activeUI) {\r\n                return this.activeUI.getRenderables();\r\n            }\r\n            else {\r\n                return [];\r\n            }\r\n            //this.activeUI ? return this.activeUI?.getRenderables() : return null\r\n        };\r\n        this.uiCanvasContext = uiCanvasContext;\r\n        this.canvasProps = canvasProps;\r\n        this.mainMenuScreen = new MainMenuScreen_1.default(uiCanvasContext, canvasProps);\r\n        this.setActiveUI(this.mainMenuScreen);\r\n    }\r\n}\r\nexports.default = UIManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.throwNotImplementedError = void 0;\r\nlet throwNotImplementedError = () => {\r\n    throw {\r\n        name: \"NotImplementedError\",\r\n        message: \"Function not implemented\"\r\n    };\r\n};\r\nexports.throwNotImplementedError = throwNotImplementedError;\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Performs physics actions relating to moving character in space,\r\n */\r\nclass Movement {\r\n    constructor(ownerPhysicsComponent) {\r\n        this.update = (velocityX, velocityY) => {\r\n            if (Math.abs(velocityX) > 0) {\r\n                this.moveX(velocityX);\r\n            }\r\n            if (Math.abs(velocityY) > 0) {\r\n                this.moveY(velocityY);\r\n            }\r\n        };\r\n        this.moveX = (increment) => {\r\n            this.move(increment, 0);\r\n        };\r\n        this.moveY = (increment) => {\r\n            this.move(0, increment);\r\n        };\r\n        this.move = (incrementX, incrementY) => {\r\n            let newPosition = {\r\n                position: {\r\n                    x: this.ownerPhysicsComponent.componentOwner.getPosition().x + incrementX,\r\n                    y: this.ownerPhysicsComponent.componentOwner.getPosition().y + incrementY\r\n                }\r\n            };\r\n            this.ownerPhysicsComponent.componentOwner.setPosition(newPosition);\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n}\r\nexports.default = Movement;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass WorldPhysics {\r\n    constructor(platformManager) {\r\n        this.getTouchRelationship = (thisEntity, otherEntity) => {\r\n            let touchResult = {\r\n                didCollide: false,\r\n                vectors: {\r\n                    top: 0,\r\n                    bottom: 0,\r\n                    left: 0,\r\n                    right: 0\r\n                }\r\n            };\r\n            let thisBox = thisEntity.getBoxCoords(-1, 1, -1, 1);\r\n            let otherBox = otherEntity.getBoxCoords();\r\n            touchResult.vectors = this.getCollisionVectors(thisBox, otherBox);\r\n            if (this.isCollision(thisBox, otherBox)) {\r\n                touchResult.didCollide = true;\r\n            }\r\n            return touchResult;\r\n        };\r\n        this.getCollisions = (characterTrajectory) => {\r\n            let collisions = [];\r\n            this.platformManager.getEntityList().forEach((entity) => {\r\n                // entityBox i.e. the OTHER entity, the platform\r\n                let entityBox = entity.getBoxCoords();\r\n                if (this.isCollision(characterTrajectory, entityBox)) {\r\n                    collisions.push(this.getCollisionVectors(characterTrajectory, entityBox));\r\n                }\r\n            });\r\n            return collisions;\r\n        };\r\n        this.isCollision = (subjectBox, otherBox) => {\r\n            if (subjectBox.bottom <= otherBox.top) {\r\n                return false;\r\n            }\r\n            if (subjectBox.top >= otherBox.bottom) {\r\n                return false;\r\n            }\r\n            if (subjectBox.right <= otherBox.left) {\r\n                return false;\r\n            }\r\n            if (subjectBox.left >= otherBox.right) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        this.getCollisionVectors = (subjectBox, otherBox) => {\r\n            let collisionVectors = {\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0\r\n            };\r\n            if (subjectBox.top <= otherBox.bottom && subjectBox.top >= otherBox.top) {\r\n                collisionVectors.top = subjectBox.top - otherBox.bottom;\r\n            }\r\n            if (subjectBox.bottom >= otherBox.top && subjectBox.bottom <= otherBox.bottom) {\r\n                collisionVectors.bottom = subjectBox.bottom - otherBox.top;\r\n            }\r\n            if (subjectBox.left <= otherBox.right && subjectBox.left >= otherBox.left) {\r\n                collisionVectors.left = subjectBox.left - otherBox.right;\r\n            }\r\n            if (subjectBox.right >= otherBox.left && subjectBox.right <= otherBox.right) {\r\n                collisionVectors.right = subjectBox.right - otherBox.left;\r\n            }\r\n            return collisionVectors;\r\n        };\r\n        this.platformManager = platformManager;\r\n    }\r\n}\r\nexports.default = WorldPhysics;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Entity_1 = require(\"../base/Entity\");\r\nclass Reticule extends Entity_1.default {\r\n    constructor(height, width, position, colour) {\r\n        super({\r\n            name: \"reticule\",\r\n            code: \"code\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        });\r\n    }\r\n}\r\nexports.default = Reticule;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Implementation of a background. I have not made a base background yet, so this should be extracted at some point.\r\n */\r\nclass SnowBackground {\r\n    constructor(backgroundContext, canvasProps) {\r\n        //opacity: number = 0.5\r\n        this.particleDensity = 0.20;\r\n        this.maxParticles = 500;\r\n        this.startingYPos = -5;\r\n        this.maxXSpeed = 1;\r\n        this.particles = [];\r\n        this.getRenderables = () => {\r\n            return this.particles.map((particle) => {\r\n                return {\r\n                    xPos: particle.xPos,\r\n                    yPos: particle.yPos,\r\n                    width: particle.width,\r\n                    height: particle.height,\r\n                    colour: particle.colour\r\n                };\r\n            });\r\n        };\r\n        this.createNewParticles = () => {\r\n            for (let i = 0; i < 2; i++) {\r\n                // Create 2 particles per row\r\n                // randomize these properties to a certain extent later\r\n                let particle = {\r\n                    colour: \"rgba(255, 255, 255, 0.5)\",\r\n                    width: Math.random() * 2,\r\n                    height: Math.random() * 2,\r\n                    xPos: Math.random() * this.canvasProps.width,\r\n                    yPos: this.startingYPos,\r\n                    xDirection: 0.1,\r\n                    xSpeed: 0,\r\n                    ySpeed: 0.2 + Math.random() * 1.5,\r\n                    opacity: 0.5\r\n                };\r\n                this.particles.push(particle);\r\n            }\r\n        };\r\n        this.update = (delta) => {\r\n            if (this.particles.length < this.maxParticles) {\r\n                this.createNewParticles();\r\n            }\r\n            this.particles.forEach((particle) => {\r\n                particle.yPos += particle.ySpeed;\r\n                // how frequent direction changes are\r\n                if (Math.random() < 0.95) {\r\n                    particle.xDirection = particle.xDirection * -1;\r\n                }\r\n                if (!((particle.xSpeed) > 1)) {\r\n                    let windVariability = Math.random() * 0.075; //higher == more random \r\n                    particle.xSpeed += particle.xDirection * windVariability;\r\n                }\r\n                particle.xPos += particle.xSpeed;\r\n                // return from whence you came\r\n                if (particle.yPos > this.canvasProps.height) {\r\n                    particle.yPos = this.startingYPos;\r\n                    particle.xPos = Math.random() * this.canvasProps.width;\r\n                }\r\n            });\r\n        };\r\n        this.backgroundContext = backgroundContext;\r\n        this.canvasProps = canvasProps;\r\n    }\r\n}\r\nexports.default = SnowBackground;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Projectile_1 = require(\"../objects/projectiles/Projectile\");\r\nconst BaseEntityManager_1 = require(\"./BaseEntityManager\");\r\n/**\r\n * Store Projectiles and manage access and manipulation to Projectile resources\r\n */\r\nclass ProjectileManager extends BaseEntityManager_1.default {\r\n    constructor() {\r\n        super();\r\n        this.generateProjectile = (position, angle, colour, velocity) => {\r\n            console.log(\"projectile angle: \" + Math.sin(angle));\r\n            //cos: -1 = left, 1 = right\r\n            //sin: -1 = top, 1 = bottom\r\n            let velocityX = velocity * Math.cos(angle);\r\n            let velocityY = velocity * Math.sin(angle);\r\n            return new Projectile_1.default(5, 5, { x: position.x, y: position.y }, colour, velocityX, velocityY);\r\n        };\r\n        this.getProjectileList = () => {\r\n            return this.getEntityList();\r\n        };\r\n        this.addProjectile = (location, angle, colour, velocity) => {\r\n            this.addEntity(this.generateProjectile(location, angle, colour, velocity));\r\n        };\r\n        this.tick = (delta, worldManager) => {\r\n            this.updateProjectiles(delta, worldManager);\r\n        };\r\n        this.updateProjectiles = (delta, worldManager) => {\r\n            this.getProjectileList().forEach((projectile) => {\r\n                projectile.update(worldManager);\r\n            });\r\n        };\r\n    }\r\n}\r\nexports.default = ProjectileManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Entity_1 = require(\"./base/Entity\");\r\nconst PhysicsComponent_1 = require(\"../components/physics/PhysicsComponent\");\r\n/**\r\n * Object in the game. Base class that more specific objects will inherit from.\r\n */\r\nclass Platform extends Entity_1.default {\r\n    constructor(name, code, height, width, position, colour) {\r\n        super({\r\n            name: \"platformA\",\r\n            code: \"projectileB\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        });\r\n        this.physics = new PhysicsComponent_1.default(this);\r\n        this.update = (worldManager) => {\r\n            this.physics.update(worldManager);\r\n        };\r\n    }\r\n}\r\nexports.default = Platform;\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('AppHeader'),_c('Game')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[_c('img',{staticClass:\"header-logo\",attrs:{\"alt\":\"Site logo\",\"src\":require(\"../assets/logo.png\")}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"app-header\">\r\n        <img class=\"header-logo\" alt=\"Site logo\" src=\"../assets/logo.png\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'AppHeader'\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .app-header {\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n    }\r\n\r\n    .header-logo {\r\n        height: 3em;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppHeader.vue?vue&type=template&id=7f9b3340&scoped=true&\"\nimport script from \"./AppHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./AppHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppHeader.vue?vue&type=style&index=0&id=7f9b3340&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f9b3340\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-screen\"},[_c('div',[_vm._v(\"WASD to move\")]),_c('div',[_vm._v(\"space to shoot (proper physics to come)\")]),_c('div',{attrs:{\"id\":\"fps-display\"}}),_c('canvas',{attrs:{\"id\":\"background-canvas\",\"width\":\"1200\",\"height\":\"720\",\"z-index\":\"3\"}}),_c('canvas',{attrs:{\"id\":\"game-canvas\",\"width\":\"1200\",\"height\":\"720\",\"tabindex\":\"1\"}}),_c('canvas',{attrs:{\"id\":\"ui-canvas\",\"width\":\"1200\",\"height\":\"720\",\"tabindex\":\"2\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"game-screen\">\r\n        <div>WASD to move</div>\r\n        <div>space to shoot (proper physics to come)</div>\r\n        <div id=\"fps-display\"></div>\r\n        <canvas id=\"background-canvas\" width=\"1200\" height=\"720\" z-index='3'/>\r\n        <canvas id=\"game-canvas\" width=\"1200\" height=\"720\" tabindex='1'/>\r\n        <canvas id=\"ui-canvas\" width=\"1200\" height=\"720\" tabindex='2'/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { main } from '../../../game/dst/main.js'\r\n\r\n    export default {\r\n        name: 'Game',\r\n        mounted() {\r\n            main()\r\n        }\r\n    }    \r\n</script>\r\n\r\n<style scoped>\r\n    canvas {\r\n        position: absolute;\r\n        margin-left: auto;\r\n        margin-right: auto;\r\n        left: 0;\r\n        right: 0;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=3ab54dc6&scoped=true&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&id=3ab54dc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ab54dc6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <AppHeader />\r\n    <Game />  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AppHeader from './components/AppHeader.vue'\r\nimport Game from './components/Game.vue'\r\n\r\nexport default {\r\n  name: 'app',\r\n  components: {\r\n    AppHeader,\r\n    Game\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nhtml {\r\n  background-color:#1e2a36;\r\n  color: azure;\r\n  height: 100vh;\r\n}\r\n\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=207193a6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst SnowBackground_1 = require(\"./SnowBackground\");\r\nclass BackgroundManager {\r\n    //private canvasProps: {height: number, width: number}\r\n    constructor(backgroundContext, canvasProps) {\r\n        this.getBackgroundContext = () => {\r\n            return this.backgroundContext;\r\n        };\r\n        this.getActiveBackground = () => {\r\n            return this.activeBackground;\r\n        };\r\n        this.getActiveBackgroundRenderables = () => {\r\n            return this.activeBackground.getRenderables();\r\n        };\r\n        this.setBackground = (backgroundContext, canvasProps) => {\r\n            this.activeBackground = new SnowBackground_1.default(backgroundContext, canvasProps);\r\n        };\r\n        this.updateBackground = (delta) => {\r\n            this.activeBackground.update(delta);\r\n        };\r\n        this.backgroundContext = backgroundContext;\r\n        this.activeBackground = new SnowBackground_1.default(backgroundContext, canvasProps);\r\n    }\r\n}\r\nexports.default = BackgroundManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Store characters and manages access to and manipulation of character resources\r\n */\r\nclass BaseEntityManager {\r\n    constructor() {\r\n        this.getEntityList = () => {\r\n            return this.entityList;\r\n        };\r\n        this.addEntity = (entity) => {\r\n            this.entityList.push(entity);\r\n        };\r\n        this.getEntity = (entityId) => {\r\n            return this.entityList.find((entity) => {\r\n                return entity.name = entityId;\r\n            });\r\n        };\r\n        this.removeEntity = (entityId) => {\r\n            let entityIndex = this.getEntityIndex(entityId);\r\n            if (entityIndex != null) {\r\n                this.entityList.splice(entityIndex, 1);\r\n            }\r\n            else {\r\n                //log -> couldn't remove requested entity\r\n                console.log(\"Failed to remove entity of entityId: \" + entityId);\r\n            }\r\n        };\r\n        this.getEntityRenderables = () => {\r\n            return this.entityList.map((entity) => {\r\n                return entity.getRenderable();\r\n            });\r\n        };\r\n        /**\r\n         * Return index of requested entity. If none found, returns null.\r\n         *\r\n         * @param entityId id of requested entity\r\n         */\r\n        this.getEntityIndex = (entityId) => {\r\n            let entity = this.getEntity(entityId);\r\n            if (entity) {\r\n                return this.entityList.indexOf(entity);\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        };\r\n        this.entityList = [];\r\n    }\r\n}\r\nexports.default = BaseEntityManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Types_js_1 = require(\"../Types.js\");\r\nconst StateManager_js_1 = require(\"./StateManager.js\");\r\n/**\r\n * Store controller managers\r\n */\r\nclass ControllerManager {\r\n    constructor(worldManager, renderingManager, uiManager) {\r\n        this.startMenu = () => {\r\n        };\r\n        this.stateManager = new StateManager_js_1.default(worldManager, renderingManager, uiManager);\r\n        this.stateManager.loop.start(0);\r\n        //this.stateManager.changeState(GameState.Menu)\r\n        // Testing out switching game states\r\n        this.stateManager.changeState(Types_js_1.GameState.Menu);\r\n        setTimeout(() => {\r\n            this.stateManager.changeState(Types_js_1.GameState.Game);\r\n            setTimeout(() => {\r\n                this.stateManager.changeState(Types_js_1.GameState.Pause);\r\n                setTimeout(() => {\r\n                    this.stateManager.changeState(Types_js_1.GameState.Game);\r\n                }, 5000);\r\n            }, 5000);\r\n        }, 12500);\r\n    }\r\n}\r\nexports.default = ControllerManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst CharacterManager_1 = require(\"./managers/CharacterManager\");\r\nconst PlatformManager_js_1 = require(\"./managers/PlatformManager.js\");\r\nconst BackgroundManager_js_1 = require(\"./background/BackgroundManager.js\");\r\nconst ProjectileManager_1 = require(\"./managers/ProjectileManager\");\r\nconst WorldPhysics_1 = require(\"./WorldPhysics\");\r\n/**\r\n * Store world elements / managers\r\n */\r\nclass WorldManager {\r\n    constructor(context, backgroundContext, canvasProps) {\r\n        this.getPlatformManager = () => {\r\n            return this.platformManager;\r\n        };\r\n        this.getBackgroundManager = () => {\r\n            return this.backgroundManager;\r\n        };\r\n        this.getProjectileManager = () => {\r\n            return this.projectileManager;\r\n        };\r\n        /* A potential idea may be to on-board tickable managers somewhere in worldmanager,\r\n        then since they all implement tickable or whatever just iterate through an array of them\r\n        their .tick function */\r\n        this.updateWorld = (delta) => {\r\n            this.characterManager.tick(delta, this);\r\n            this.getProjectileManager().tick(delta, this);\r\n            this.getPlatformManager().tick(delta, this);\r\n            // If we have multiple types of characters then we can create different managers for them and put them under characterManager\r\n            // e.g. PlayerCharacter, Enemies, \r\n            // Potentially (and very possibly the correct choice) create a higher level class called entities, then fit Characters under that even, then we can put in 'Boundaries', 'missiles', etc under entities in the world too.  \r\n        };\r\n        this.updateBackground = (delta) => {\r\n            this.backgroundManager.updateBackground(delta);\r\n        };\r\n        this.platformManager = new PlatformManager_js_1.default();\r\n        this.characterManager = new CharacterManager_1.default();\r\n        this.projectileManager = new ProjectileManager_1.default();\r\n        this.worldPhysics = new WorldPhysics_1.default(this.platformManager);\r\n        this.backgroundManager = new BackgroundManager_js_1.default(backgroundContext, canvasProps);\r\n        this.context = context;\r\n    }\r\n}\r\n/**\r\n * TODO:\r\n *  - Better jump. Want character to jump once and maybe a little higher if jump button held\r\n */\r\nexports.default = WorldManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Renderer_js_1 = require(\"./Renderer.js\");\r\nclass RenderingManager {\r\n    constructor(worldContext, backgroundContext, uiContext, canvasProps) {\r\n        //load grid and colours\r\n        //this.colours = new Colours(context)\r\n        //renderBackground(effect)\r\n        this.getRenderer = () => {\r\n            return this.renderer;\r\n        };\r\n        // colours and gamegrid need to be passed to renderer... is this a sign that i need to refactor renderer?\r\n        this.renderer = new Renderer_js_1.default(worldContext, backgroundContext, uiContext, canvasProps);\r\n    }\r\n}\r\nexports.default = RenderingManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Types_1 = require(\"../Types\");\r\nconst InputHandler_1 = require(\"./input/InputHandler\");\r\nconst Loop_1 = require(\"./Loop\");\r\nconst uuid_1 = require(\"uuid\");\r\nclass StateManager {\r\n    constructor(worldManager, renderingManager, uiManager) {\r\n        this.gameState = Types_1.GameState.Menu;\r\n        this.loop = new Loop_1.default(() => { return; }, () => { return; });\r\n        //loop: Loop\r\n        this.userRef = uuid_1.v4();\r\n        this.throwError = (gameState, destinationState) => {\r\n            throw new Error(\"Not valid to go from \" + gameState + \" to \" + destinationState);\r\n        };\r\n        this.changeState = (destinationState) => {\r\n            switch (this.gameState) {\r\n                case Types_1.GameState.Menu:\r\n                    if (destinationState === Types_1.GameState.Game) {\r\n                        // Menu -> Game; Start new game\r\n                        this.gameState = destinationState;\r\n                        this.renderingManager.renderer.clearUIContext();\r\n                        this.startGame();\r\n                    }\r\n                    if (destinationState === Types_1.GameState.Menu) {\r\n                        // Menu -> Menu; ???\r\n                        this.gameState = destinationState;\r\n                        this.loop.setInnerFunctions(this.menuUpdate, this.menuDraw);\r\n                    }\r\n                    if (destinationState === Types_1.GameState.Pause) {\r\n                        // Menu -> Pause; Invalid\r\n                        this.throwError(this.gameState, destinationState);\r\n                    }\r\n                    break;\r\n                case Types_1.GameState.Game:\r\n                    if (destinationState === Types_1.GameState.Pause) {\r\n                        // Game -> Pause; Pause game and show pause screen\r\n                        this.gameState = destinationState;\r\n                        this.loop.setInnerFunctions(this.pauseUpdate, this.gameDraw);\r\n                    }\r\n                    else {\r\n                        // Game -> Game; Invalid\r\n                        this.throwError(this.gameState, destinationState);\r\n                    }\r\n                    break;\r\n                case Types_1.GameState.Pause:\r\n                    if (destinationState === Types_1.GameState.Game) {\r\n                        // Pause -> Game; Resume game\r\n                        this.gameState = destinationState;\r\n                        //this.resumeGame()\r\n                        this.loop.setUpdate(this.gameUpdate);\r\n                        this.loop.setDraw(this.gameDraw);\r\n                    }\r\n                    if (destinationState === Types_1.GameState.Menu) {\r\n                        // Pause -> Menu; Close game and go to menu\r\n                        this.gameState = destinationState;\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        this.startGame = () => {\r\n            this.worldManager.characterManager.addCharacter(this.userRef, { x: 620, y: 150 }, \"#c12395\");\r\n            this.inputHandler.bindCommandsToCharacter(this.userRef);\r\n            this.loop.setUpdate(this.gameUpdate);\r\n            this.loop.setDraw(this.gameDraw);\r\n        };\r\n        this.gameUpdate = (delta) => {\r\n            console.log(\"2: i'm updating\");\r\n            this.inputHandler.handleInput(delta);\r\n            this.worldManager.updateWorld(delta);\r\n            this.worldManager.updateBackground(delta);\r\n            this.inputHandler.savePreviousKeyState();\r\n        };\r\n        this.gameDraw = () => {\r\n            this.renderingManager.getRenderer().drawWorld([\r\n                this.worldManager.getPlatformManager().getEntityRenderables(),\r\n                this.worldManager.getProjectileManager().getEntityRenderables(),\r\n                this.worldManager.characterManager.getCharacterRenderables()\r\n                //Probably this is an indicater that says world manager should collate all this?\r\n            ]);\r\n            this.renderingManager.renderer.drawBackground(this.worldManager.backgroundManager.getActiveBackgroundRenderables());\r\n            //this.renderingManager.getRenderer().drawRenderables\r\n        };\r\n        this.menuUpdate = (delta) => {\r\n            console.log(\"1: i'm updating\");\r\n            //this.worldManager.updateWorld(delta)\r\n            this.worldManager.updateBackground(delta);\r\n        };\r\n        this.menuDraw = () => {\r\n            // this.renderingManager.renderer.drawWorld([\r\n            //     this.worldManager.platformManager.getEntityRenderables()\r\n            // ])\r\n            this.renderingManager.renderer.drawBackground(this.worldManager.backgroundManager.getActiveBackgroundRenderables());\r\n            this.renderingManager.renderer.drawUI(this.uiManager.getUIRenderables());\r\n        };\r\n        this.pauseUpdate = (delta) => {\r\n            console.log(\"pause: i'm updating\");\r\n            this.worldManager.updateBackground(delta);\r\n        };\r\n        this.pauseDraw = () => {\r\n            this.renderingManager.renderer.drawBackground(this.worldManager.backgroundManager.getActiveBackgroundRenderables());\r\n        };\r\n        this.worldManager = worldManager;\r\n        this.renderingManager = renderingManager;\r\n        this.uiManager = uiManager;\r\n        this.inputHandler = new InputHandler_1.default(this.worldManager.characterManager, this.uiManager.uiCanvasContext);\r\n    }\r\n}\r\nexports.default = StateManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.main = void 0;\r\nconst WorldManager_1 = require(\"./world/WorldManager\");\r\nconst RenderingManager_js_1 = require(\"./view/RenderingManager.js\");\r\nconst ControllerManager_js_1 = require(\"./controller/ControllerManager.js\");\r\nconst UIManager_1 = require(\"./view/ui/UIManager\");\r\nlet uiContext;\r\nlet worldContext;\r\nlet backgroundContext;\r\nlet worldManager;\r\nlet renderingManager;\r\nlet controllerManager;\r\nlet uiManager;\r\nlet canvas;\r\nconst width = 800;\r\nconst height = 480;\r\nconst main = () => {\r\n    loadStuff();\r\n    doStuff();\r\n};\r\nexports.main = main;\r\nconst loadStuff = () => {\r\n    loadBackgroundCanvas();\r\n    loadWorldCanvas();\r\n    loadUICanvas();\r\n    loadWorld();\r\n    loadUIManager();\r\n    loadRendering();\r\n    loadController();\r\n};\r\nconst doStuff = () => {\r\n    //controllerManager.startGame()\r\n    // controllerManager.loop.start(0)    // could potentially load the code inline here\r\n    // controllerManager.startMenu()\r\n    // setTimeout(() => {\r\n    //     //controllerManager.startGame()\r\n    //     controllerManager.loop.stop()\r\n    //     console.log(\"I'm stopping!\")\r\n    //     controllerManager.startGame()\r\n    //     // setTimeout(() => {\r\n    //     //     controllerManager.loop.stop()\r\n    //     //     controllerManager.startMenu()\r\n    //     // }, 5000)\r\n    //     }, 5000)\r\n    //controllerManager.startGame()\r\n    //  controllerManager.loop.start(0)\r\n};\r\nconst loadUICanvas = () => {\r\n    let tempCanvas = document.getElementById('ui-canvas');\r\n    canvas = {\r\n        element: tempCanvas,\r\n        props: {\r\n            height: tempCanvas.height,\r\n            width: tempCanvas.width\r\n        }\r\n    };\r\n    uiContext = getContext(canvas.element);\r\n};\r\nconst loadWorldCanvas = () => {\r\n    let tempCanvas = document.getElementById('game-canvas');\r\n    canvas = {\r\n        element: tempCanvas,\r\n        props: {\r\n            height: tempCanvas.height,\r\n            width: tempCanvas.width\r\n        }\r\n    };\r\n    worldContext = getContext(canvas.element);\r\n};\r\nconst loadBackgroundCanvas = () => {\r\n    let tempCanvas = document.getElementById('background-canvas');\r\n    canvas = {\r\n        element: tempCanvas,\r\n        props: {\r\n            height: tempCanvas.height,\r\n            width: tempCanvas.width\r\n        }\r\n    };\r\n    backgroundContext = getContext(canvas.element);\r\n};\r\nconst loadWorld = () => {\r\n    worldManager = new WorldManager_1.default(worldContext, backgroundContext, canvas.props);\r\n};\r\nconst loadRendering = () => {\r\n    renderingManager = new RenderingManager_js_1.default(worldContext, backgroundContext, uiContext, canvas.props);\r\n};\r\nconst loadController = () => {\r\n    controllerManager = new ControllerManager_js_1.default(worldManager, renderingManager, uiManager);\r\n};\r\nconst loadUIManager = () => {\r\n    uiManager = new UIManager_1.default(uiContext, canvas.props);\r\n};\r\nconst getContext = (canvas) => {\r\n    let context = canvas.getContext('2d');\r\n    if (context != null) {\r\n        console.log(\"Successfully got context\");\r\n        return context;\r\n    }\r\n    else {\r\n        throw Error(\"Couldn't retrieve context for canvas: \" + canvas);\r\n    }\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Types_1 = require(\"../../../Types\");\r\n/**\r\n * Contains logic for enacting forces for PhysicsComponent\r\n */\r\nclass Forces {\r\n    constructor(ownerPhysicsComponent) {\r\n        this.applyForces = () => {\r\n            if (this.ownerPhysicsComponent.positionState == Types_1.PositionState.Landed) {\r\n                //Check if what it is resting on is still there\r\n                //apply friction\r\n                this.applyFriction();\r\n                this.applyWindResistance();\r\n            }\r\n            if (this.ownerPhysicsComponent.positionState == Types_1.PositionState.Flying) {\r\n                this.applyWindResistance();\r\n            }\r\n            this.applyGravity();\r\n        };\r\n        this.applyGravity = () => {\r\n            this.ownerPhysicsComponent.velocityY += 0.2;\r\n        };\r\n        this.applyFriction = () => {\r\n            this.ownerPhysicsComponent.velocityX = this.ownerPhysicsComponent.velocityX * 0.9;\r\n        };\r\n        this.applyWindResistance = () => {\r\n            this.ownerPhysicsComponent.velocityX = this.ownerPhysicsComponent.velocityX * 0.99;\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n}\r\nexports.default = Forces;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Commands_1 = require(\"./Commands\");\r\n/**\r\n * Input handler\r\n *\r\n * This class is very ambiguous and deserves refactoring. Probably should be called UserInputHandler.\r\n *\r\n * Perhaps could separate out the general set up of key presses and stuff from the binding to a character. Have the InputHandler / InputController have a list of ElementInputHandlers (e.g. characterInputHandler, UIInputHandler?)\r\n *\r\n * Core functionality at the moment:\r\n *  - Store a specific character's actions (e.g. jump)\r\n *  - Associate them with User's keys\r\n */\r\nclass InputHandler {\r\n    constructor(characterManager, mouseListenerContext) {\r\n        this.keys = {}; // record of keyboard keys and their corresponding state of pressed down or up\r\n        this.previousKeysState = {};\r\n        this.mouseRelativeToPlayerPosition = {}; // describes where user's mouse in relation to their character\r\n        this.mouseCanvasPos = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        this.playerCharacter = null;\r\n        this.jump = () => { return; };\r\n        this.jetPack = () => { return; };\r\n        this.moveDown = () => { return; };\r\n        this.moveLeft = () => { return; };\r\n        this.moveRight = () => { return; };\r\n        this.shoot = () => { return; };\r\n        this.bindCommandsToCharacter = (characterRef) => {\r\n            this.playerCharacter = this.characterManagerRef.getEntityList().find(character => character.name == characterRef);\r\n            this.setupKeyDownListeners();\r\n            this.setMousePositionListener();\r\n            this.moveRight = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Right\");\r\n            this.moveLeft = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Left\");\r\n            this.jump = Commands_1.default.makeJumpCommand(this.playerCharacter);\r\n            this.jetPack = Commands_1.default.makeJetPackCommand(this.playerCharacter);\r\n            this.moveDown = Commands_1.default.makeMoveUnitCommand(this.playerCharacter, \"Down\");\r\n            // shooting\r\n            this.shoot = Commands_1.default.makeShootCommand(this.playerCharacter);\r\n        };\r\n        this.savePreviousKeyState = () => {\r\n            this.previousKeysState = this.keys;\r\n        };\r\n        /**\r\n         * Set up keydown listeners to detect when keys are pressed down and lifted up\r\n         */\r\n        this.setupKeyDownListeners = () => {\r\n            let keysUsed = [\"w\", \"a\", \"s\", \"d\", \" \"];\r\n            keysUsed.forEach((key) => {\r\n                this.keys[key] = {\r\n                    heldDown: false,\r\n                    firstPress: false\r\n                };\r\n            });\r\n            window.onkeyup = (e) => {\r\n                this.keys[e.key] = {\r\n                    heldDown: false,\r\n                    firstPress: false\r\n                };\r\n            };\r\n            window.onkeydown = (e) => {\r\n                let firstPress = !this.keys[e.key].heldDown;\r\n                this.keys[e.key] = {\r\n                    heldDown: true,\r\n                    firstPress: firstPress\r\n                };\r\n            };\r\n        };\r\n        this.setMousePositionListener = () => {\r\n            let event;\r\n            this.mouseListenerContext.canvas.addEventListener('mousemove', event => {\r\n                let boundingRect = this.mouseListenerContext.canvas.getBoundingClientRect();\r\n                this.mouseCanvasPos = {\r\n                    x: event.clientX - boundingRect.left,\r\n                    y: event.clientY - boundingRect.top\r\n                };\r\n            });\r\n        };\r\n        /**\r\n         * Runs once a loop, detects user's raw input and handles it\r\n         */\r\n        this.handleInput = (delta) => {\r\n            if (this.getKeyPressState('w').firstPress) {\r\n                this.jump(delta);\r\n            }\r\n            if (this.getKeyPressState('w').heldDown) {\r\n                this.jetPack(delta);\r\n            }\r\n            if (this.getKeyPressState('a').heldDown) {\r\n                this.moveLeft(delta);\r\n            }\r\n            if (this.getKeyPressState('s').heldDown) {\r\n                this.moveDown(delta);\r\n            }\r\n            if (this.getKeyPressState('d').heldDown) {\r\n                this.moveRight(delta);\r\n            }\r\n            if (this.getKeyPressState(' ').heldDown) {\r\n                this.shoot(delta);\r\n            }\r\n            this.setPlayerCharacterFocusAngle();\r\n        };\r\n        /**\r\n         * Set the character's focus angle based on relative position of character and player's mouse\r\n         */\r\n        this.setPlayerCharacterFocusAngle = () => {\r\n            // get character position... we want it to be the player's character hey\r\n            // draw line from character and mouse\r\n            let characterMidPoint = {\r\n                x: this.playerCharacter.position.x + this.playerCharacter.width / 2,\r\n                y: this.playerCharacter.position.y + this.playerCharacter.height / 2\r\n            };\r\n            let angle = Math.atan2(this.mouseCanvasPos.y - characterMidPoint.y, this.mouseCanvasPos.x - characterMidPoint.x);\r\n            this.playerCharacter.input.setFocusAngle(angle);\r\n        };\r\n        /**\r\n         * Check if given key is currently pressed down\r\n         */\r\n        this.getKeyPressState = (key) => {\r\n            return this.keys[key] ? this.keys[key] : { firstPress: false, heldDown: false };\r\n        };\r\n        this.mouseListenerContext = mouseListenerContext;\r\n        this.characterManagerRef = characterManager;\r\n        // //this.playerCharacter = this.characterManagerRef.getCharacterByName(\"Adam\")\r\n        // this.playerCharacter = this.characterManagerRef.getEntityList().find(character => character.name == \"Adam\") as Character\r\n        // this.setupKeyDownListeners()\r\n        // this.setMousePositionListener()\r\n        // this.moveRight = Commands.makeMoveUnitCommand(this.playerCharacter, \"Right\")\r\n        // this.moveLeft = Commands.makeMoveUnitCommand(this.playerCharacter, \"Left\")\r\n        // this.jump = Commands.makeJumpCommand(this.playerCharacter)\r\n        // this.jetPack = Commands.makeJetPackCommand(this.playerCharacter)\r\n        // this.moveDown = Commands.makeMoveUnitCommand(this.playerCharacter, \"Down\")\r\n        // // shooting\r\n        // this.shoot = Commands.makeShootCommand(this.playerCharacter)\r\n    }\r\n}\r\nexports.default = InputHandler;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Types_1 = require(\"../../Types\");\r\n/**\r\n * Input component. Stuff that inputs (player / AI) can use.\r\n *\r\n * This is _hard coupled_ with an entity having a PHYSICS component\r\n *\r\n * Affects character's x & y velocity and probably more things later on.\r\n *\r\n */\r\nclass InputComponent {\r\n    constructor(componentOwner) {\r\n        this.MOVE_ACCELERATION = 0.035;\r\n        this.MAX_VELOCITY_X = 5;\r\n        this.moveLeft = (delta) => {\r\n            this.limitVelocity(this.componentOwner.physics.velocityX -= this.MOVE_ACCELERATION * delta);\r\n        };\r\n        this.moveRight = (delta) => {\r\n            this.limitVelocity(this.componentOwner.physics.velocityX += this.MOVE_ACCELERATION * delta);\r\n        };\r\n        this.limitVelocity = (calculatedVelocity) => {\r\n            if ((Math.abs(calculatedVelocity) > this.MAX_VELOCITY_X)) {\r\n                this.componentOwner.physics.velocityX = this.MAX_VELOCITY_X * Math.sign(calculatedVelocity);\r\n            }\r\n        };\r\n        this.jump = (delta) => {\r\n            if (this.componentOwner.physics.positionState == Types_1.PositionState.Landed) {\r\n                this.componentOwner.physics.velocityY -= 0.12 * delta;\r\n            }\r\n        };\r\n        this.jetPack = (delta) => {\r\n            this.componentOwner.physics.velocityY -= 0.018 * delta;\r\n        };\r\n        this.down = (delta) => {\r\n            this.componentOwner.physics.velocityY += this.MOVE_ACCELERATION * delta;\r\n        };\r\n        this.clearVelocityX = () => {\r\n            this.componentOwner.physics.velocityX = 0;\r\n        };\r\n        this.clearVelocityY = () => {\r\n            this.componentOwner.physics.velocityY = 0;\r\n        };\r\n        this.setFocusAngle = (focusAngle) => {\r\n            this.componentOwner.focusAngle = focusAngle;\r\n        };\r\n        this.makeProjectile = (delta) => {\r\n            this.componentOwner.gun.fireProjectile(delta);\r\n        };\r\n        this.componentOwner = componentOwner;\r\n    }\r\n}\r\nexports.default = InputComponent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Renderer {\r\n    constructor(worldContext, backgroundContext, uiContext, canvasProps) {\r\n        // Maybe when this gets more complicated this can be made more intelligent?\r\n        //drawWorld = (objectRenderables: Renderable[] = [], projectileRenderables: Renderable[] = [], characterRenderables: Renderable[] = []) => {\r\n        this.drawWorld = (renderableListList) => {\r\n            this.worldContext.clearRect(0, 0, this.canvasProps.width, this.canvasProps.height);\r\n            renderableListList.forEach(renderableList => {\r\n                this.drawRenderables(renderableList);\r\n            });\r\n        };\r\n        this.drawBackground = (renderables) => {\r\n            this.backgroundContext.fillStyle = \"#000000\";\r\n            this.backgroundContext.fillRect(0, 0, this.canvasProps.width, this.canvasProps.height);\r\n            this.drawBackgroundRenderables(renderables);\r\n        };\r\n        // drawUI = (renderables: Renderable[]) => {\r\n        //     this.\r\n        //     // Create a slightly opaque background over everything if i wish\r\n        //     // Draw list of renderables... might need to adapt this for text and junk\r\n        // }\r\n        this.drawUI = (renderables) => {\r\n            renderables.forEach(renderable => {\r\n                this.uiContext.fillStyle = renderable.colour;\r\n                this.uiContext.fillRect(renderable.xPos, renderable.yPos, renderable.width, renderable.height);\r\n            });\r\n        };\r\n        this.drawRenderables = (renderables) => {\r\n            renderables.forEach(renderable => {\r\n                this.worldContext.fillStyle = renderable.colour;\r\n                this.worldContext.fillRect(renderable.xPos, renderable.yPos, renderable.width, renderable.height);\r\n            });\r\n        };\r\n        this.drawBackgroundRenderables = (renderables) => {\r\n            renderables.forEach(renderable => {\r\n                this.backgroundContext.fillStyle = \"rgba(255, 255, 255, 0.5)\";\r\n                this.backgroundContext.fillRect(renderable.xPos, renderable.yPos, renderable.width, renderable.height);\r\n            });\r\n        };\r\n        this.clearUIContext = () => {\r\n            this.uiContext.clearRect(0, 0, this.canvasProps.width, this.canvasProps.height);\r\n        };\r\n        this.worldContext = worldContext;\r\n        this.backgroundContext = backgroundContext;\r\n        this.uiContext = uiContext;\r\n        this.canvasProps = canvasProps;\r\n    }\r\n}\r\nexports.default = Renderer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst BaseEntityManager_1 = require(\"./BaseEntityManager\");\r\nconst Platform_1 = require(\"../objects/Platform\");\r\n/**\r\n * Store characters and manages access to and manipulation of character resources\r\n */\r\nclass PlatformManager extends BaseEntityManager_1.default {\r\n    constructor() {\r\n        super();\r\n        this.tick = (delta, worldManager) => {\r\n            //tick platforms\r\n        };\r\n        let top = new Platform_1.default(\"top\", \"top\", 20, 1200, { x: 0, y: 0 }, \"#ffffff\");\r\n        let left = new Platform_1.default(\"left\", \"left\", 720, 20, { x: 0, y: 0 }, \"rgba(255, 255, 255, 1)\");\r\n        let bottom = new Platform_1.default(\"bottom\", \"bottom\", 20, 1200, { x: 0, y: 700 }, \"rgba(255, 255, 255, 1)\");\r\n        let right = new Platform_1.default(\"right\", \"right\", 720, 20, { x: 1180, y: 0 }, \"rgba(255, 255, 255, 1)\");\r\n        let testPlatform2 = new Platform_1.default(\"test1\", \"12\", 100, 100, { x: 450, y: 350 }, \"rgba(255, 255, 255, 1)\");\r\n        this.addEntity(top);\r\n        this.addEntity(bottom);\r\n        this.addEntity(left);\r\n        this.addEntity(right);\r\n        this.addEntity(testPlatform2);\r\n    }\r\n}\r\nexports.default = PlatformManager;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Game loop class\r\n *\r\n * Written largely from: https://isaacsukin.com/news/2015/01/detailed-explanation-javascript-game-loops-and-timing\r\n */\r\nclass Loop {\r\n    constructor(update, draw) {\r\n        this.looping = false;\r\n        this.delta = 0;\r\n        this.lastFrameTimeMs = 0;\r\n        this.timestep = 1000 / 60; // timeSimulatedPerFrame\r\n        this.fps = 60;\r\n        this.framesThisSecond = 0;\r\n        this.lastFpsUpdate = 0;\r\n        this.fpsDecayWeight = 0.25;\r\n        this.fpsDisplay = document.getElementById(\"fps-display\");\r\n        this.setInnerFunctions = (update, draw) => {\r\n            this.setUpdate(update);\r\n            this.setDraw(draw);\r\n        };\r\n        this.setUpdate = (update) => {\r\n            this.update = update;\r\n        };\r\n        this.setDraw = (draw) => {\r\n            this.draw = draw;\r\n        };\r\n        this.run = (timestamp) => {\r\n            // Track Fps\r\n            if (this.looping) {\r\n                if (timestamp > this.lastFpsUpdate + 1000) {\r\n                    this.fps = this.fpsDecayWeight * this.framesThisSecond + (1 - this.fpsDecayWeight) * this.fps;\r\n                    this.lastFpsUpdate = timestamp;\r\n                    this.framesThisSecond = 0;\r\n                }\r\n                this.framesThisSecond++;\r\n                // Track accumulated time that hasn't been spent yet\r\n                this.delta += timestamp - this.lastFrameTimeMs;\r\n                this.lastFrameTimeMs = timestamp;\r\n                // Update word for every timestep that comprises delta time\r\n                let numberOfSequentialUpdates = 0;\r\n                while (this.delta >= this.timestep) {\r\n                    this.update(this.timestep);\r\n                    this.delta -= this.timestep;\r\n                    if (++numberOfSequentialUpdates >= 240) { // detect spiral of death\r\n                        this.panic(); // fix things\r\n                        break; // break out\r\n                    }\r\n                }\r\n                this.draw();\r\n                if (this.fpsDisplay) {\r\n                    this.fpsDisplay.textContent = Math.round(this.fps) + ' FPS';\r\n                }\r\n                window.requestAnimationFrame(this.run);\r\n            }\r\n        };\r\n        this.panic = () => {\r\n            console.log(\"<PANIC>\");\r\n            //this.stop()\r\n        };\r\n        this.start = (timestamp) => {\r\n            this.looping = true;\r\n            this.run(timestamp);\r\n        };\r\n        this.stop = () => {\r\n            this.looping = false;\r\n        };\r\n        this.update = update;\r\n        this.draw = draw;\r\n    }\r\n}\r\nexports.default = Loop;\r\n/* when loop is done:\r\n    - work on user input / movement\r\n    - then rendering (using canvas's efficiently) and timing of drawing etc\r\n*/ \r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Entity_1 = require(\"../base/Entity\");\r\nconst Reticule_js_1 = require(\"./Reticule.js\");\r\nconst PhysicsComponent_1 = require(\"../../components/physics/PhysicsComponent\");\r\nconst InputComponent_js_1 = require(\"../../components/InputComponent.js\");\r\nconst GunComponent_js_1 = require(\"../../components/GunComponent.js\");\r\n/**\r\n * Character or unit that exists in the game. This should probably go through some inheritance type things at some point\r\n */\r\nclass Character extends Entity_1.default {\r\n    constructor(name, code, height, width, position, colour) {\r\n        super({\r\n            name: name,\r\n            code: code,\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        });\r\n        // components\r\n        // velocityX: number = 0\r\n        // velocityY: number = 0\r\n        // physics: PhysicsComponent = new PhysicsComponent(this)\r\n        this.physics = new PhysicsComponent_1.default(this);\r\n        this.input = new InputComponent_js_1.default(this);\r\n        this.gun = new GunComponent_js_1.default(this);\r\n        this.update = (worldManager) => {\r\n            this.physics.update(worldManager);\r\n            this.setReticule();\r\n            this.gun.update(worldManager);\r\n            //generate projectile\r\n            //this.gun.update(worldManager)\r\n        };\r\n        this.setReticule = () => {\r\n            this.reticule.position.x = this.position.x + (this.width / 2) - this.reticule.width / 2 + 25 * Math.cos(this.focusAngle);\r\n            this.reticule.position.y = this.position.y + (this.height / 2) - this.reticule.height / 2 + 25 * Math.sin(this.focusAngle);\r\n        };\r\n        this.focusAngle = 1;\r\n        this.reticule = new Reticule_js_1.default(5, 5, { x: 50, y: 50 }, \"ffffff\"); //reticule probably actually is more fitting as a COMPONENT \r\n    }\r\n}\r\nexports.default = Character;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Entity_1 = require(\"../base/Entity\");\r\nconst PhysicsComponent_1 = require(\"../../components/physics/PhysicsComponent\");\r\nclass Projectile extends Entity_1.default {\r\n    constructor(height, width, position, colour, velocityX, velocityY) {\r\n        super({\r\n            name: \"projectileA\",\r\n            code: \"projectileA\",\r\n            height: height,\r\n            width: width,\r\n            position: position,\r\n            colour: colour\r\n        });\r\n        this.update = (worldManager) => {\r\n            this.physics.update(worldManager);\r\n        };\r\n        this.physics = new PhysicsComponent_1.default(this, velocityX, velocityY);\r\n    }\r\n}\r\nexports.default = Projectile;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Entity in the game. Base class that more specific entitys will inherit from.\r\n */\r\nclass Entity {\r\n    constructor(params) {\r\n        this.update = (worldManager) => {\r\n        };\r\n        this.getBoxCoords = (topAdjustment = 0, bottomAdjustment = 0, leftAdjustment = 0, rightAdjustment = 0) => {\r\n            return {\r\n                top: this.getPosition().y + topAdjustment,\r\n                bottom: this.getPosition().y + this.getHeight() + bottomAdjustment,\r\n                left: this.getPosition().x + leftAdjustment,\r\n                right: this.getPosition().x + this.getWidth() + rightAdjustment\r\n            };\r\n        };\r\n        this.getBoxSides = () => {\r\n            return {\r\n                top: this.getPosition().y,\r\n                bottom: this.getPosition().y + this.getHeight(),\r\n                left: this.getPosition().x,\r\n                right: this.getPosition().x + this.getWidth()\r\n            };\r\n        };\r\n        /** REFACTOR: SHOULD ENTITY HAVE A 'BOX' OR BODY COMPONENT WHICH HOLDS THESE? */\r\n        // getCorners = (): BoxCorners => {\r\n        //     let boxSides: BoxSides = this.getBoxSides()\r\n        //     return {\r\n        //         topLeft: {\r\n        //             x: this.getPosition().x,\r\n        //             y: this.getPosition().y\r\n        //         },\r\n        //         topRight: {\r\n        //             x: this.getPosition().x + this.getWidth(),\r\n        //             y: this.getPosition().y\r\n        //         },\r\n        //         bottomLeft: {\r\n        //             x: this.getPosition().x,\r\n        //             y: this.getPosition().y + this.getHeight()\r\n        //         },\r\n        //         bottomRight: {\r\n        //             x: this.getPosition().x + this.getWidth(),\r\n        //             y: this.getPosition().y + this.getHeight()\r\n        //         }\r\n        //     }\r\n        // }\r\n        this.getCorners = (sides) => {\r\n            if (sides == null) {\r\n                sides = this.getBoxSides();\r\n            }\r\n            return {\r\n                topLeft: {\r\n                    x: sides.left,\r\n                    y: sides.top\r\n                },\r\n                topRight: {\r\n                    x: sides.right,\r\n                    y: sides.top\r\n                },\r\n                bottomLeft: {\r\n                    x: sides.left,\r\n                    y: sides.bottom\r\n                },\r\n                bottomRight: {\r\n                    x: sides.right,\r\n                    y: sides.bottom\r\n                }\r\n            };\r\n        };\r\n        this.getRenderable = () => {\r\n            return {\r\n                xPos: this.position.x,\r\n                yPos: this.position.y,\r\n                width: this.width,\r\n                height: this.height,\r\n                colour: this.colour\r\n            };\r\n        };\r\n        this.getName = () => {\r\n            return this.name;\r\n        };\r\n        this.getCode = () => {\r\n            return this.code;\r\n        };\r\n        this.getHeight = () => {\r\n            return this.height;\r\n        };\r\n        this.getWidth = () => {\r\n            return this.width;\r\n        };\r\n        this.getPosition = () => {\r\n            return this.position;\r\n        };\r\n        this.setPosition = ({ position }) => {\r\n            this.position = position;\r\n        };\r\n        this.name = params.name;\r\n        this.code = params.code;\r\n        this.height = params.height;\r\n        this.width = params.width;\r\n        this.position = params.position;\r\n        this.colour = params.colour;\r\n    }\r\n}\r\nexports.default = Entity;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet Commands = /** @class */ (() => {\r\n    class Commands {\r\n    }\r\n    Commands.makeMoveUnitCommand = (character, direction) => {\r\n        return (delta) => {\r\n            if (direction == \"Down\") {\r\n                character.input.down(delta);\r\n            }\r\n            if (direction == \"Left\") {\r\n                character.input.moveLeft(delta);\r\n            }\r\n            if (direction == \"Right\") {\r\n                character.input.moveRight(delta);\r\n            }\r\n        };\r\n    };\r\n    Commands.makeJumpCommand = (character) => {\r\n        return (delta) => {\r\n            character.input.jump(delta);\r\n        };\r\n    };\r\n    Commands.makeJetPackCommand = (character) => {\r\n        return (delta) => {\r\n            character.input.jetPack(delta);\r\n        };\r\n    };\r\n    Commands.makeShootCommand = (character) => {\r\n        return (delta) => {\r\n            character.input.makeProjectile(delta);\r\n        };\r\n    };\r\n    return Commands;\r\n})();\r\nexports.default = Commands;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Gun component\r\n */\r\nclass GunComponent {\r\n    constructor(componentOwner) {\r\n        this.willFireOnUpdate = false;\r\n        this.rateOfFire = 10;\r\n        this.ticker = 0;\r\n        /**\r\n         * Runs once per tick\r\n         */\r\n        this.update = (worldManager) => {\r\n            this.tickGun();\r\n            if (this.willFireOnUpdate && (this.ticker > this.rateOfFire)) {\r\n                //worldManager.getProjectileManager().addProjectile()\r\n                worldManager.getProjectileManager().addProjectile(this.componentOwner.reticule.getPosition(), this.componentOwner.focusAngle, this.componentOwner.colour, 15);\r\n                // Reset checks\r\n                this.ticker = 0;\r\n                this.willFireOnUpdate = false;\r\n            }\r\n            else {\r\n                this.willFireOnUpdate = false; // so... willFireOnUpdate is set by fireProjectile when player presses the fire key. But for some reason one press will register as two, so willFireOnUpdate will go true, fire, then false, then true again as the fire key still thinks its pressed and wait for next fire\r\n            }\r\n        };\r\n        /** if projectiles are to be larger or smaller than the reticule then this code will need to be modified to center projectile at center of reticule */\r\n        // getEndOfGunPosition = (): Position => {\r\n        //     const gunPos: Position = this.componentOwner.reticule.getPosition()\r\n        //     return {\r\n        //         x: gunPos.x,\r\n        //         y: gunPos.y\r\n        //     }\r\n        // }\r\n        this.fireProjectile = (delta) => {\r\n            this.willFireOnUpdate = true;\r\n        };\r\n        this.tickGun = () => {\r\n            this.ticker++;\r\n        };\r\n        this.componentOwner = componentOwner;\r\n    }\r\n}\r\nexports.default = GunComponent;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Types_1 = require(\"../../../Types\");\r\n/**\r\n * Contains logic relating to detected collisions for PhysicsComponent\r\n */\r\nclass Collisions {\r\n    constructor(ownerPhysicsComponent) {\r\n        this.update = (worldManager) => {\r\n            // for this entity loop through all entities that can be collided with\r\n            let trajectoryBox = this.calculateTrajectoryBox();\r\n            let collisions = worldManager.worldPhysics.getCollisions(trajectoryBox);\r\n            if (collisions.length == 0) {\r\n                this.ownerPhysicsComponent.positionState = Types_1.PositionState.Flying;\r\n            }\r\n            collisions.forEach((collision) => {\r\n                this.resolveCollisions(collision); // may create issues if these indices get out of sync\r\n            });\r\n        };\r\n        /**  Better strategy to handle different polygons:\r\n         *\r\n         * - use velocity to calculate the actual angle in which entity is moving\r\n         * - get the perpendicular bisector, use that as an axis\r\n         * - for this axis, get the points representing the:\r\n         *      - lowest / most negative number\r\n         *      - highest / most positive number\r\n         *\r\n         *\r\n         * ... but i think i'll have bigger problems when converting away from boxes; might want to 'connect the sides in the case of polygons'\r\n        */\r\n        this.calculateTrajectoryBox = () => {\r\n            let trajectoryBox = this.ownerPhysicsComponent.componentOwner.getBoxCoords();\r\n            if (this.ownerPhysicsComponent.velocityX > 0) {\r\n                trajectoryBox.right += this.ownerPhysicsComponent.velocityX;\r\n            }\r\n            else {\r\n                trajectoryBox.left += this.ownerPhysicsComponent.velocityX;\r\n            }\r\n            if (this.ownerPhysicsComponent.velocityY > 0) {\r\n                trajectoryBox.bottom += this.ownerPhysicsComponent.velocityY;\r\n            }\r\n            else {\r\n                trajectoryBox.top += this.ownerPhysicsComponent.velocityY;\r\n            }\r\n            return trajectoryBox;\r\n        };\r\n        this.detectCollisions = () => {\r\n        };\r\n        this.resolveCollisions = (collisions) => {\r\n            // Landed on the top of something\r\n            // if ((collisions.bottom != 0 && collisions.top == 0) && (collisions.left != 0 || collisions.right != 0)) { //or means that if it lands on the corner it behaves this way as well!!! we're expecting this to look janky for now\r\n            //     if (Math.abs(collisions.bottom) >= Math.abs(collisions.left)) {\r\n            //         this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.left)\r\n            //         this.ownerPhysicsComponent.velocityX = 0\r\n            //     } else {\r\n            //         this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.bottom)\r\n            //         this.ownerPhysicsComponent.velocityY = 0\r\n            //         this.ownerPhysicsComponent.positionState = PositionState.Landed\r\n            //     }\r\n            // } else {\r\n            //     this.ownerPhysicsComponent.positionState = PositionState.Flying\r\n            // }\r\n            // Landed on the top of something\r\n            // if ((collisions.bottom != 0 && collisions.top == 0)) { //or means that if it lands on the corner it behaves this way as well!!! we're expecting this to look janky for now\r\n            //     if ((collisions.left != 0 || collisions.right != 0) && !(collisions.left != 0 && collisions.right != 0)) {\r\n            //         if (collisions.left != 0) {\r\n            //             // landed on top right corner\r\n            //             this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.left)\r\n            //             this.ownerPhysicsComponent.velocityX = 0\r\n            //         }\r\n            //         if (collisions.right != 0) {\r\n            //             // landed on top left corner\r\n            //             this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.right)\r\n            //             this.ownerPhysicsComponent.velocityX = 0\r\n            //         }\r\n            //     } else {\r\n            //         // landed right on top :)\r\n            //         this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.bottom)\r\n            //         this.ownerPhysicsComponent.velocityY = 0\r\n            //         this.ownerPhysicsComponent.positionState = PositionState.Landed\r\n            //     }\r\n            // } else {\r\n            //     this.ownerPhysicsComponent.positionState = PositionState.Flying\r\n            // }\r\n            if ((collisions.bottom != 0 && collisions.top == 0)) {\r\n                // if (((collisions.left != 0 || collisions.right != 0) && !(collisions.left != 0 && collisions.right != 0)) \r\n                //         && (Math.abs(collisions.bottom) >= (Math.abs(collisions.left) + Math.abs(collisions.right)))) {\r\n                if (Math.abs(collisions.bottom) >= (Math.abs(collisions.left) + Math.abs(collisions.right))) {\r\n                    this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - (collisions.left + collisions.right));\r\n                    this.ownerPhysicsComponent.velocityX = 0;\r\n                }\r\n                else {\r\n                    // landed right on top :)\r\n                    this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.bottom);\r\n                    this.ownerPhysicsComponent.velocityY = 0;\r\n                    this.ownerPhysicsComponent.positionState = Types_1.PositionState.Landed;\r\n                }\r\n            }\r\n            else {\r\n                this.ownerPhysicsComponent.positionState = Types_1.PositionState.Flying;\r\n            }\r\n            // Hit head on bottom of something\r\n            // if ((collisions.top != 0 && collisions.bottom == 0) && (collisions.left != 0 || collisions.right != 0)) {\r\n            //     this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.top)\r\n            //     this.ownerPhysicsComponent.velocityY = 0\r\n            // }\r\n            if (collisions.top != 0 && collisions.bottom == 0) {\r\n                if (Math.abs(collisions.top) >= (Math.abs(collisions.right) + Math.abs(collisions.left))) {\r\n                    this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - (collisions.left + collisions.right));\r\n                    this.ownerPhysicsComponent.velocityX = 0;\r\n                }\r\n                else {\r\n                    this.ownerPhysicsComponent.movement.moveY(this.ownerPhysicsComponent.velocityY - collisions.top);\r\n                    this.ownerPhysicsComponent.velocityY = 0;\r\n                }\r\n            }\r\n            // Ran into right side of something\r\n            if (collisions.left != 0 && (collisions.top != 0 && collisions.bottom != 0)) {\r\n                this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.left);\r\n                this.ownerPhysicsComponent.velocityX = 0;\r\n            }\r\n            // Ran into the left side of something\r\n            if (collisions.right != 0 && (collisions.top != 0 && collisions.bottom != 0)) {\r\n                this.ownerPhysicsComponent.movement.moveX(this.ownerPhysicsComponent.velocityX - collisions.right);\r\n                this.ownerPhysicsComponent.velocityX = 0;\r\n            }\r\n        };\r\n        this.ownerPhysicsComponent = ownerPhysicsComponent;\r\n    }\r\n}\r\nexports.default = Collisions;\r\n","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst CanvasScreen_1 = require(\"../CanvasScreen\");\r\nclass MainMenuScreen extends CanvasScreen_1.default {\r\n    constructor(canvasContext, canvasProps) {\r\n        super(canvasContext, canvasProps);\r\n        this.getRenderables = () => {\r\n            this.drawText();\r\n            // return [\r\n            //     this.createCenterBox(this.canvasProps.height/(1.618*2), (this.canvasProps.height/(1.618*2))*16/9)\r\n            // ]\r\n            return [\r\n                this.createCenterBox(1, 1)\r\n            ];\r\n        };\r\n        this.createCenterBox = (height, width) => {\r\n            return {\r\n                xPos: (this.canvasProps.width / 2) - (width / 2),\r\n                yPos: (this.canvasProps.height / 2) - (height / 2),\r\n                width: width,\r\n                height: height,\r\n                colour: \"#ffffff\"\r\n            };\r\n        };\r\n        this.drawText = () => {\r\n            this.context.font = '48px serif';\r\n            this.context.fillText('Hello World!', this.canvasProps.width / 2, this.canvasProps.height / 2);\r\n        };\r\n    }\r\n}\r\nexports.default = MainMenuScreen;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Errors_1 = require(\"../../Errors\");\r\nclass CanvasScreen {\r\n    constructor(canvasContext, canvasProps) {\r\n        this.getRenderables = () => {\r\n            Errors_1.throwNotImplementedError();\r\n            return [];\r\n        };\r\n        this.context = canvasContext;\r\n        this.canvasProps = canvasProps;\r\n    }\r\n}\r\nexports.default = CanvasScreen;\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=3ab54dc6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&id=3ab54dc6&scoped=true&lang=css&\"","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GameState = exports.PositionState = void 0;\r\n/** Enums */\r\nvar PositionState;\r\n(function (PositionState) {\r\n    PositionState[PositionState[\"Flying\"] = 0] = \"Flying\";\r\n    PositionState[PositionState[\"Touching\"] = 1] = \"Touching\";\r\n    PositionState[PositionState[\"Colliding\"] = 2] = \"Colliding\";\r\n    PositionState[PositionState[\"Landed\"] = 3] = \"Landed\";\r\n})(PositionState = exports.PositionState || (exports.PositionState = {}));\r\nvar GameState;\r\n(function (GameState) {\r\n    GameState[\"Menu\"] = \"MENU\";\r\n    GameState[\"Game\"] = \"GAME\";\r\n    GameState[\"Pause\"] = \"PAUSE\";\r\n})(GameState = exports.GameState || (exports.GameState = {}));\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Forces_1 = require(\"./Forces\");\r\nconst Collisions_1 = require(\"./Collisions\");\r\nconst Movement_1 = require(\"./Movement\");\r\nconst Types_1 = require(\"../../../Types\");\r\nclass PhysicsComponent {\r\n    constructor(componentOwner, velocityX = 0, velocityY = 0) {\r\n        this.forces = new Forces_1.default(this);\r\n        this.collisions = new Collisions_1.default(this);\r\n        this.movement = new Movement_1.default(this);\r\n        this.positionState = Types_1.PositionState.Flying;\r\n        this.firstTick = true;\r\n        this.velocityX = 0;\r\n        this.velocityY = 0;\r\n        this.velocityAngle = 0;\r\n        this.update = (worldManager) => {\r\n            // Perform first update to set up -- this could be done in constructor but would require constructor to have worldmanager as parameter\r\n            if (this.firstTick) {\r\n                //\r\n            }\r\n            this.forces.applyForces();\r\n            this.collisions.update(worldManager);\r\n            //steps:\r\n            //check for collisions before updating, register a 'will hit' event\r\n            //'will hit' events are processed by a will hit event watcher that adjust the hit objects movements accordingly / sets their variables that will result in their movements being adjusted when 'this.movement.update' is called\r\n            //plus other stuff like processing damage and things?\r\n            this.updateVelocityAngle();\r\n            this.movement.update(this.velocityX, this.velocityY);\r\n        };\r\n        this.updateVelocityAngle = () => {\r\n            this.velocityAngle = Math.atan2(this.velocityY, this.velocityX);\r\n        };\r\n        this.componentOwner = componentOwner;\r\n        this.velocityX = velocityX;\r\n        this.velocityY = velocityY;\r\n    }\r\n}\r\nexports.default = PhysicsComponent;\r\n"],"sourceRoot":""}